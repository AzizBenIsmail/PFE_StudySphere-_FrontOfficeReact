/*!

=========================================================
* Notus React - v1.1.0 based on Tailwind Starter Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpStudySphere=this.webpackJsonpStudySphere||[]).push([[37],{112:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));var n=a(1),c=a(38),s=a.n(c),l=a(44),r=a(52),o=a(0);function i(){const e=s.a.get("jwt_token"),t=Object(n.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(e)}})),[e]),[a,c]=Object(n.useState)(!1),[i,d]=Object(n.useState)(0),[u,x]=Object(n.useState)(0),[m,p]=Object(n.useState)(),[b,f]=Object(n.useState)({password:"",confirmPassword:"",token:e}),[h,j]=Object(n.useState)(""),g=e=>{f({...b,[e.target.name]:e.target.value});const t=b.password;"confirmPassword"===e.target.name&&(b.password!==e.target.value?j("Les mots de passe ne correspondent pas."):j(""));const a=w(t);x(a),console.log(b)},w=e=>{const t=/[A-Z]/.test(e),a=/[a-z]/.test(e),n=/\d/.test(e);return 0===e.length?0:e.length<4?(d(1),1):e.length<8?(d(2),2):t&&a&&n?(d(4),4):2};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"flex py-30 flex-wrap",children:[Object(o.jsx)(r.a,{code:"3"}),Object(o.jsx)("div",{className:"w-7/12 px-6",children:Object(o.jsx)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-100 border-0",children:Object(o.jsxs)("div",{className:"rounded-t bg-white mb-0 px-6 py-6",children:[Object(o.jsxs)("div",{className:"text-center flex justify-between",children:[Object(o.jsx)("div",{className:"text-center mb-3",children:Object(o.jsx)("h6",{className:"text-3xl font-semibold leading-normal mt-0 mb-2 text-lightBlue-800",children:"R\xe9initialiser mon mot de passe"})}),Object(o.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-300"})]}),Object(o.jsx)("div",{className:"flex-auto px-4 lg:px-10 py-10 pt-0",children:Object(o.jsxs)("form",{encType:"multipart/form-data",children:[Object(o.jsxs)("div",{className:"relative w-full mb-3",children:[Object(o.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Mot de passe"}),Object(o.jsx)("input",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"Mot de passe",type:"password",name:"password",onChange:e=>g(e),"aria-label":"Mot de passe"}),1===i||2===i||"Le Mot de passe doit contenir au moins une lettre majuscule, une lettre minuscule, un chiffre et un symbole Exemple mdp : Exemple@123 | Exemple#123 | Exemple.123 | Exemple/123 | Exemple*123"===m||"Le Mot de passe doit contenir au moins 8 caract\xe8res"===m?Object(o.jsx)("label",{style:{color:"red"},children:"Le Mot de passe doit contenir au moins une lettre majuscule, une lettre minuscule, un chiffre et un symbole Exemple mdp : Exemple@123 | Exemple#123 | Exemple.123 | Exemple/123 | Exemple*123 "}):""]}),Object(o.jsxs)("div",{className:"relative w-full mb-3",children:[Object(o.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Confirmer mot de passe"}),Object(o.jsx)("input",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"Confirmer mot de passe",type:"password",name:"confirmPassword",onChange:e=>g(e),"aria-label":"Confirmer mot de passe"}),h&&Object(o.jsx)("label",{style:{color:"red",display:"block",marginTop:"10px"},children:h})]}),Object(o.jsx)("div",{className:"relative pt-1",children:Object(o.jsx)("div",{className:"".concat((e=>{switch(e){case 0:default:return"overflow-hidden h-2 mb-4 text-xs flex rounded bg-lightBlue-200";case 1:return"overflow-hidden h-2 mb-4 text-xs flex rounded bg-red-200";case 2:return"overflow-hidden h-2 mb-4 text-xs flex rounded bg-orange-200";case 3:return"overflow-hidden h-2 mb-4 text-xs flex rounded bg-teal-200";case 4:return"overflow-hidden h-2 mb-4 text-xs flex rounded bg-emerald-200"}})(u)),children:Object(o.jsx)("div",{style:{width:"".concat(u/3*100,"%")},className:"".concat((e=>{switch(e){case 0:default:return"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-lightBlue-500";case 1:return"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-red-500";case 2:return"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-orange-500";case 3:return"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-teal-500";case 4:return"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-emerald-500"}})(u))})})}),Object(o.jsx)("label",{children:Object(o.jsx)("div",{className:"text-center mt-6",children:Object(o.jsx)("button",{className:"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150",type:"button",onClick:async()=>{if(""===b.password)d(2);else if(b.password===b.confirmPassword||""===b.password){if(4===i)try{c(!0);const e=await Object(l.a)(b,t);console.log(e),"Mot de passe modifi\xe9 avec succ\xe8s. Veuillez v\xe9rifier votre bo\xeete mail."===e.data.message?window.location.replace("/Setting/"):p(e.data.message)}catch(e){console.log(e)}finally{c(!1)}}else j("Les mots de passe ne correspondent pas.")},children:"Sauvegarder mon mot de passe"})})}),a&&Object(o.jsx)("p",{children:"Chargement en cours..."})]})})]})})})]})})}},44:function(e,t,a){"use strict";a.d(t,"w",(function(){return s})),a.d(t,"k",(function(){return l})),a.d(t,"n",(function(){return r})),a.d(t,"m",(function(){return o})),a.d(t,"p",(function(){return i})),a.d(t,"q",(function(){return d})),a.d(t,"r",(function(){return u})),a.d(t,"x",(function(){return x})),a.d(t,"v",(function(){return m})),a.d(t,"t",(function(){return p})),a.d(t,"u",(function(){return b})),a.d(t,"s",(function(){return f})),a.d(t,"f",(function(){return h})),a.d(t,"A",(function(){return j})),a.d(t,"e",(function(){return g})),a.d(t,"h",(function(){return w})),a.d(t,"j",(function(){return y})),a.d(t,"c",(function(){return O})),a.d(t,"g",(function(){return v})),a.d(t,"C",(function(){return N})),a.d(t,"B",(function(){return k})),a.d(t,"y",(function(){return C})),a.d(t,"z",(function(){return B})),a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return A})),a.d(t,"l",(function(){return F})),a.d(t,"o",(function(){return M})),a.d(t,"d",(function(){return E})),a.d(t,"i",(function(){return z}));var n=a(143);const c="http://localhost:5000/user";async function s(e){return await n.a.get("".concat(c,"/AllUsers"),e)}async function l(e){return await n.a.get("".concat(c,"/AllAdmin"),e)}async function r(e){return await n.a.get("".concat(c,"/AllFormateur"),e)}async function o(e){return await n.a.get("".concat(c,"/AllCentre"),e)}async function i(e){return await n.a.get("".concat(c,"/AllModerateur"),e)}async function d(e){return await n.a.get("".concat(c,"/AllSimpleUsers"),e)}async function u(e){return await n.a.get("".concat(c,"/AllUsersActive"),e)}async function x(e){return await n.a.get("".concat(c,"/AllUsersarchive"),e)}async function m(e){return await n.a.get("".concat(c,"/AllUsersDesactive"),e)}async function p(e){return await n.a.get("".concat(c,"/AllUsersConnecter"),e)}async function b(e){return await n.a.get("".concat(c,"/AllUsersDeConnecter"),e)}async function f(e,t){return await n.a.get("".concat(c,"/User/").concat(e),t)}async function h(e,t){return await n.a.delete("".concat(c,"/").concat(e),t)}async function j(e,t){return await n.a.put("".concat(c,"/upgrade"),{id:e},t)}async function g(e,t){return await n.a.put("".concat(c,"/archiver"),{id:e},t)}async function w(e,t){return await n.a.put("".concat(c,"/desarchiver"),{id:e},t)}async function y(e,t){return await n.a.put("".concat(c,"/downgrade"),{id:e},t)}async function O(e,t){return await n.a.put("".concat(c,"/active"),{id:e},t)}async function v(e,t){return await n.a.put("".concat(c,"/desactive"),{id:e},t)}async function N(e,t){return await n.a.put("".concat(c,"/upgradeModerateur"),{id:e},t)}async function k(e,t){return await n.a.put("".concat(c,"/upgradeFormateur"),{id:e},t)}async function C(e,t,a){return await n.a.put("".concat(c,"/update/").concat(t),e,a,{headers:{"Content-Type":"multipart/form-data"}})}async function B(e,t,a){return await n.a.put("".concat(c,"/updatecentre/").concat(t),e,a,{headers:{"Content-Type":"multipart/form-data"}})}async function S(e,t,a){return await n.a.put("".concat(c,"/UpdatePasswordByAdmin/").concat(e),t,a)}async function A(e,t){return await n.a.put("".concat(c,"/UpdatePassword"),e,t)}async function F(e,t){return await n.a.get("".concat(c,"/Center/").concat(e),t)}async function M(e,t){return await n.a.get("".concat(c,"/Formateur/").concat(e),t)}async function E(e,t){return await n.a.put("".concat(c,"/affecterEnseignant/").concat(e),null,t)}async function z(e,t){return await n.a.put("".concat(c,"/desinfecterFormateur/").concat(e),null,t)}},52:function(e,t,a){"use strict";var n=a(1),c=a.n(n),s=a(42),l=a(41),r=a(53),o=a(46),i=a(38),d=a.n(i),u=a(3),x=a(39),m=a(0);t.a=e=>{let{code:t}=e;const[a,i]=c.a.useState(t),p=d.a.get("jwt_token"),b=Object(u.g)(),f=Object(n.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(p)}})),[p]);if(d.a.get("jwt_token")){(async()=>{try{await Object(x.d)(f).then((e=>{"admin"===e.data.user.role&&window.location.replace("/admin/")}))}catch(e){console.log(e)}})()}else window.location.replace("/");const h=Object(u.i)(),[j,g]=Object(n.useState)({});return Object(n.useEffect)((()=>{(async e=>{await Object(x.d)(e).then((e=>{g(e.data.user)})).catch((e=>{console.log(e)}))})(f);const e=setInterval((()=>{}),1e6);return()=>clearInterval(e)}),[f,h.id]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"w-1/4 ml-8",children:Object(m.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:Object(m.jsx)("div",{className:"px-4 py-5 flex-auto",children:Object(m.jsxs)("ul",{className:"list-none flex-wrap pt-3 pb-4  ",role:"tablist",children:[Object(m.jsx)("li",{className:" mr-2 last:mr-0 flex-auto",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("1"===a?"text-lightBlue-600 ":"text-lightBlue-800 "),onClick:e=>{e.preventDefault(),console.log(t),i(t),console.log(a),b.push("/AccountManagement/edit/".concat(j._id,"?u=").concat(j.role.toLowerCase()))},"data-toggle":"tab",href:"#link1",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(s.g,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"Informations personnelles"})})]})})}),Object(m.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("2"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),i(t),"client"===j.role&&(void 0===j.preferences?b.push("/First"):b.push("/First/UpdatePreferences")),"centre"===j.role&&(void 0===j.preferences?b.push("/First/announcementCenter"):b.push("/First/UpdatePreferencesCenter")),"formateur"===j.role&&(void 0===j.preferences?b.push("/First/announcementFormateur"):b.push("/First/UpdatePreferenceFormateur"))},"data-toggle":"tab",href:"#link2",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(l.m,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"Pr\xe9f\xe9rences"})})]})})}),Object(m.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("3"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),console.log(t),i(t),console.log(a),b.push("/AccountManagement/updatePassword")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(l.l,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"S\xe9curit\xe9"})})]})})}),Object(m.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("5"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),i(t),b.push("/AccountManagement/BadgesNiveauXp")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(r.b,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"Niveau , Badge et Point Xp"})})]})})}),j&&"centre"===j.role?Object(m.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),i(t),b.push("/AccountManagement/createFormation")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(l.j,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"G\xe9re Les Formation"})})]})})}):Object(m.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{b.push("/AccountManagement/GestionFav"),i(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(l.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"Liste favoris"})})]})})}),j&&"centre"===j.role?Object(m.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),i(t),b.push("/AccountManagement/stuff")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(o.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"Stuff Enseignant"})})]})})}):Object(m.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(m.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),i(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(m.jsxs)("div",{className:"px-6 flex py-1",children:[Object(m.jsx)(o.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(m.jsx)("div",{className:"ml-2",children:Object(m.jsx)("h3",{className:"text-1xl mt-2",children:"Confientialiter"})})]})})})]})})})})})}}}]);
//# sourceMappingURL=37.b213b6e8.chunk.js.map