/*!

=========================================================
* Notus React - v1.1.0 based on Tailwind Starter Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpStudySphere=this.webpackJsonpStudySphere||[]).push([[39],{115:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var c=n(1),a=n(38),l=n.n(a),s=n(44),r=n(52),i=n(39),o=n(0);function d(e){let{color:t}=e;const n=l.a.get("jwt_token"),[a,d]=Object(c.useState)(null),[u,x]=Object(c.useState)([]),[j,m]=Object(c.useState)(!1),[b,h]=Object(c.useState)(1),f=Object(c.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(n)}})),[n]);Object(c.useEffect)((()=>{(async()=>{try{const e=(await Object(i.d)(f)).data.user;d(e)}catch(e){console.log(e)}})()}),[f,n]);const p=Object(c.useCallback)((async()=>{try{const e=await Object(s.n)(f);x(e.data.users)}catch(e){console.error("Error loading formateurs:",e)}}),[f]);Object(c.useEffect)((()=>{p()}),[p]);const g=async()=>{try{const e=(await Object(i.d)(f)).data.user;d(e)}catch(e){console.log(e)}},[O,y]=Object(c.useState)(1),w=a&&a.staff_enseignant?Math.ceil(a.staff_enseignant.length/6):0,N=Math.ceil(u.length/3);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"flex py-30 flex-wrap",children:[Object(o.jsx)(r.a,{code:"6"}),Object(o.jsx)("div",{className:"w-7/12 px-6",children:Object(o.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words  mb-6 shadow-lg rounded bg-lightBlue-900 text-white",children:[Object(o.jsx)("div",{className:"rounded-t mb-0 px-4 border-0",children:Object(o.jsxs)("div",{className:"flex flex-wrap items-center",children:[Object(o.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",children:Object(o.jsxs)("h3",{className:"font-semibold text-lg text-white",children:["Liste des Formateurs pour le centre ",a&&a.nom]})}),Object(o.jsx)("button",{className:"bg-transparent border border-solid hover:bg-blueGray-500 hover:text-white active:bg-blueGray-600 font-bold uppercase text-xs px-4 py-2 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>m(!0),children:Object(o.jsx)("div",{className:"flex items-center",children:"Ajouter un Formation"})})]})}),Object(o.jsx)("div",{className:"block w-full overflow-x-auto",children:Object(o.jsxs)("table",{className:"items-center w-full bg-transparent border-collapse",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"image"}),Object(o.jsx)("th",{children:"Nom"}),Object(o.jsx)("th",{children:"Pr\xe9nom"}),Object(o.jsx)("th",{children:"Actions"})]})}),Object(o.jsx)("tbody",{children:a&&a.staff_enseignant&&a.staff_enseignant.length>0?(()=>{const e=6*(O-1),t=e+6;return a.staff_enseignant.slice(e,t)})().map((e=>Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{colSpan:"1",children:Object(o.jsx)("img",{onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",alt:"...",className:"align-middle border-none max-w-full ml-4 h-auto rounded-lg",src:"http://localhost:5000/images/Users/".concat(e.image_user),style:{width:"50px",height:"50px"}})}),Object(o.jsx)("td",{colSpan:"2",children:e.nom}),Object(o.jsx)("td",{colSpan:"3",children:e.prenom}),Object(o.jsx)("td",{colSpan:"4",children:Object(o.jsx)("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded",onClick:()=>(async e=>{try{await Object(s.i)(e,f),p(),g(),m(!1)}catch(t){console.error("Error affecting formateur to centre:",t)}})(e._id),children:"D\xe9saffecter du centre"})})]},e._id))):Object(o.jsx)("tr",{children:Object(o.jsx)("td",{colSpan:"4",className:"ml-4 ",children:"Aucun formateur n'est affect\xe9 \xe0 ce centre pour le moment."})})})]})}),Object(o.jsx)("div",{className:"flex justify-end mt-5",children:Object(o.jsxs)("ul",{className:"flex list-none rounded-md mr-28",children:[Object(o.jsx)("li",{className:"mr-2",children:Object(o.jsx)("button",{className:"px-3 rounded-md bg-gray-200 text-gray-800 focus:outline-none",onClick:()=>{y((e=>Math.max(e-1,1)))},disabled:1===O,children:"Previous"})}),Array.from({length:w}).map(((e,t)=>0===t||t===w-1||Math.abs(t+1-O)<=1||t+1<=1&&O<=2||t+1>=w-1&&O>=w-1?Object(o.jsx)("li",{children:Object(o.jsx)("button",{onClick:()=>y(t+1),className:"first:ml-0 text-xs font-semibold flex w-8 h-8 mx-1 p-0 rounded-full items-center justify-center leading-tight relative border border-solid border-lightBlue-500 ".concat(O===t+1?"bg-lightBlue-500 text-white":"bg-white text-lightBlue-500"),children:t+1})},t):1===t&&O>3||t===w-2&&O<w-2?Object(o.jsx)("li",{children:Object(o.jsx)("span",{className:"text-xs mx-1",children:"..."})},t):null)),Object(o.jsx)("li",{className:"ml-2",children:Object(o.jsx)("button",{className:"px-3 rounded-md bg-gray-200 text-gray-800 focus:outline-none",onClick:()=>{y((e=>Math.min(e+1,w)))},disabled:O===w,children:"Next"})})]})}),j&&Object(o.jsx)("div",{className:"absolute top-8 left-0 w-full h-full text-blueGray-600 flex items-center justify-center bg-gray-500 bg-opacity-50",children:Object(o.jsxs)("div",{className:"bg-white p-8 bg-centre rounded shadow lg:w-8/12",children:[Object(o.jsx)("h3",{className:"mb-4",children:"Ajouter une nouvelle Formateur"}),Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)("div",{className:"grid grid-cols-3 gap-4 flex items-center",children:Object(o.jsxs)("table",{className:"items-center  w-full bg-transparent border-collapse",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Image"}),Object(o.jsx)("th",{children:"Nom"}),Object(o.jsx)("th",{children:"Pr\xe9nom"}),Object(o.jsx)("th",{children:"Affecter"})]})}),Object(o.jsx)("tbody",{children:(()=>{const e=3*(b-1),t=e+3;return u.slice(e,t)})().map((e=>Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("img",{onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",alt:"...",className:"align-middle border-none max-w-full h-auto rounded-lg",src:"http://localhost:5000/images/Users/".concat(e.image_user),style:{width:"100px",height:"50px"}})}),Object(o.jsx)("td",{children:e.nom}),Object(o.jsx)("td",{children:e.prenom}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{className:"bg-yellow-500 text-white px-4 py-2 rounded",onClick:()=>(async e=>{try{await Object(s.d)(e,f),p(),g(),m(!1)}catch(t){console.error("Error affecting formateur to centre:",t)}})(e._id),children:"Affecter au centre"})})]},e._id)))})]})}),Object(o.jsxs)("div",{className:"flex justify-end mt-5",children:[Object(o.jsxs)("ul",{className:"flex list-none rounded-md mr-18",children:[Object(o.jsx)("li",{className:"mr-2",children:Object(o.jsx)("button",{className:"px-3 rounded-md bg-gray-200 text-gray-800 focus:outline-none",onClick:()=>{h((e=>Math.max(e-1,1)))},disabled:1===b,children:"Previous"})}),Array.from({length:N}).map(((e,t)=>0===t||t===N-1||Math.abs(t+1-b)<=1||t+1<=1&&b<=2||t+1>=N-1&&b>=N-1?Object(o.jsx)("li",{children:Object(o.jsx)("button",{onClick:()=>h(t+1),className:"first:ml-0 text-xs font-semibold flex w-8 h-8 mx-1 p-0 rounded-full items-center justify-center leading-tight relative border border-solid border-lightBlue-500 ".concat(b===t+1?"bg-lightBlue-500 text-white":"bg-white text-lightBlue-500"),children:t+1})},t):1===t&&b>3||t===N-2&&b<N-2?Object(o.jsx)("li",{children:Object(o.jsx)("span",{className:"text-xs mx-1",children:"..."})},t):null)),Object(o.jsx)("li",{className:"ml-2",children:Object(o.jsx)("button",{className:"px-3 rounded-md bg-gray-200 text-gray-800 focus:outline-none",onClick:()=>{h((e=>Math.min(e+1,N)))},disabled:b===N,children:"Next"})})]}),Object(o.jsx)("button",{className:"bg-gray-300 px-4 py-2 rounded",onClick:()=>m(!1),children:"Annuler"})]})]})]})})]})})]})})}},44:function(e,t,n){"use strict";n.d(t,"w",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"n",(function(){return r})),n.d(t,"m",(function(){return i})),n.d(t,"p",(function(){return o})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return u})),n.d(t,"x",(function(){return x})),n.d(t,"v",(function(){return j})),n.d(t,"t",(function(){return m})),n.d(t,"u",(function(){return b})),n.d(t,"s",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"A",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return O})),n.d(t,"j",(function(){return y})),n.d(t,"c",(function(){return w})),n.d(t,"g",(function(){return N})),n.d(t,"C",(function(){return v})),n.d(t,"B",(function(){return k})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return B})),n.d(t,"l",(function(){return M})),n.d(t,"o",(function(){return F})),n.d(t,"d",(function(){return U})),n.d(t,"i",(function(){return _}));var c=n(143);const a="http://localhost:5000/user";async function l(e){return await c.a.get("".concat(a,"/AllUsers"),e)}async function s(e){return await c.a.get("".concat(a,"/AllAdmin"),e)}async function r(e){return await c.a.get("".concat(a,"/AllFormateur"),e)}async function i(e){return await c.a.get("".concat(a,"/AllCentre"),e)}async function o(e){return await c.a.get("".concat(a,"/AllModerateur"),e)}async function d(e){return await c.a.get("".concat(a,"/AllSimpleUsers"),e)}async function u(e){return await c.a.get("".concat(a,"/AllUsersActive"),e)}async function x(e){return await c.a.get("".concat(a,"/AllUsersarchive"),e)}async function j(e){return await c.a.get("".concat(a,"/AllUsersDesactive"),e)}async function m(e){return await c.a.get("".concat(a,"/AllUsersConnecter"),e)}async function b(e){return await c.a.get("".concat(a,"/AllUsersDeConnecter"),e)}async function h(e,t){return await c.a.get("".concat(a,"/User/").concat(e),t)}async function f(e,t){return await c.a.delete("".concat(a,"/").concat(e),t)}async function p(e,t){return await c.a.put("".concat(a,"/upgrade"),{id:e},t)}async function g(e,t){return await c.a.put("".concat(a,"/archiver"),{id:e},t)}async function O(e,t){return await c.a.put("".concat(a,"/desarchiver"),{id:e},t)}async function y(e,t){return await c.a.put("".concat(a,"/downgrade"),{id:e},t)}async function w(e,t){return await c.a.put("".concat(a,"/active"),{id:e},t)}async function N(e,t){return await c.a.put("".concat(a,"/desactive"),{id:e},t)}async function v(e,t){return await c.a.put("".concat(a,"/upgradeModerateur"),{id:e},t)}async function k(e,t){return await c.a.put("".concat(a,"/upgradeFormateur"),{id:e},t)}async function A(e,t,n){return await c.a.put("".concat(a,"/update/").concat(t),e,n,{headers:{"Content-Type":"multipart/form-data"}})}async function S(e,t,n){return await c.a.put("".concat(a,"/updatecentre/").concat(t),e,n,{headers:{"Content-Type":"multipart/form-data"}})}async function C(e,t,n){return await c.a.put("".concat(a,"/UpdatePasswordByAdmin/").concat(e),t,n)}async function B(e,t){return await c.a.put("".concat(a,"/UpdatePassword"),e,t)}async function M(e,t){return await c.a.get("".concat(a,"/Center/").concat(e),t)}async function F(e,t){return await c.a.get("".concat(a,"/Formateur/").concat(e),t)}async function U(e,t){return await c.a.put("".concat(a,"/affecterEnseignant/").concat(e),null,t)}async function _(e,t){return await c.a.put("".concat(a,"/desinfecterFormateur/").concat(e),null,t)}},52:function(e,t,n){"use strict";var c=n(1),a=n.n(c),l=n(42),s=n(41),r=n(53),i=n(46),o=n(38),d=n.n(o),u=n(3),x=n(39),j=n(0);t.a=e=>{let{code:t}=e;const[n,o]=a.a.useState(t),m=d.a.get("jwt_token"),b=Object(u.g)(),h=Object(c.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(m)}})),[m]);if(d.a.get("jwt_token")){(async()=>{try{await Object(x.d)(h).then((e=>{"admin"===e.data.user.role&&window.location.replace("/admin/")}))}catch(e){console.log(e)}})()}else window.location.replace("/");const f=Object(u.i)(),[p,g]=Object(c.useState)({});return Object(c.useEffect)((()=>{(async e=>{await Object(x.d)(e).then((e=>{g(e.data.user)})).catch((e=>{console.log(e)}))})(h);const e=setInterval((()=>{}),1e6);return()=>clearInterval(e)}),[h,f.id]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"w-1/4 ml-8",children:Object(j.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:Object(j.jsx)("div",{className:"px-4 py-5 flex-auto",children:Object(j.jsxs)("ul",{className:"list-none flex-wrap pt-3 pb-4  ",role:"tablist",children:[Object(j.jsx)("li",{className:" mr-2 last:mr-0 flex-auto",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("1"===n?"text-lightBlue-600 ":"text-lightBlue-800 "),onClick:e=>{e.preventDefault(),console.log(t),o(t),console.log(n),b.push("/AccountManagement/edit/".concat(p._id,"?u=").concat(p.role.toLowerCase()))},"data-toggle":"tab",href:"#link1",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(l.g,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Informations personnelles"})})]})})}),Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("2"===n?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),"client"===p.role&&(void 0===p.preferences?b.push("/First"):b.push("/First/UpdatePreferences")),"centre"===p.role&&(void 0===p.preferences?b.push("/First/announcementCenter"):b.push("/First/UpdatePreferencesCenter")),"formateur"===p.role&&(void 0===p.preferences?b.push("/First/announcementFormateur"):b.push("/First/UpdatePreferenceFormateur"))},"data-toggle":"tab",href:"#link2",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(s.m,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Pr\xe9f\xe9rences"})})]})})}),Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("3"===n?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),console.log(t),o(t),console.log(n),b.push("/AccountManagement/updatePassword")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(s.l,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"S\xe9curit\xe9"})})]})})}),Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("5"===n?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),b.push("/AccountManagement/BadgesNiveauXp")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(r.b,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Niveau , Badge et Point Xp"})})]})})}),p&&"centre"===p.role?Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===n?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),b.push("/AccountManagement/createFormation")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(s.j,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"G\xe9re Les Formation"})})]})})}):Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===n?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{b.push("/AccountManagement/GestionFav"),o(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(s.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Liste favoris"})})]})})}),p&&"centre"===p.role?Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===n?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),b.push("/AccountManagement/stuff")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(i.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Stuff Enseignant"})})]})})}):Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===n?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(i.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Confientialiter"})})]})})})]})})})})})}}}]);
//# sourceMappingURL=39.3442c539.chunk.js.map