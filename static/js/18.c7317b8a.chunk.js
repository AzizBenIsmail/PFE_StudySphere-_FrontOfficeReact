/*!

=========================================================
* Notus React - v1.1.0 based on Tailwind Starter Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpStudySphere=this.webpackJsonpStudySphere||[]).push([[18],{135:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var a=n(1),c=n(3),r=n(55),s=n(47),l=n(17),o=n(38),i=n.n(o),x=n(39),b=n(0);const u=Object(a.lazy)((()=>Promise.all([n.e(4),n.e(43)]).then(n.bind(null,103)))),d=Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(4),n.e(32)]).then(n.bind(null,104)))),m=Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(4),n.e(31)]).then(n.bind(null,105)))),j=Object(a.lazy)((()=>n.e(24).then(n.bind(null,106)))),h=Object(a.lazy)((()=>Promise.all([n.e(4),n.e(42)]).then(n.bind(null,107)))),p=Object(a.lazy)((()=>n.e(40).then(n.bind(null,108)))),f=Object(a.lazy)((()=>n.e(25).then(n.bind(null,109)))),g=Object(a.lazy)((()=>Promise.all([n.e(4),n.e(44)]).then(n.bind(null,110)))),y=Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(4),n.e(33)]).then(n.bind(null,111))));function O(){const e=i.a.get("jwt_token"),[t,n]=Object(a.useState)(null),o=Object(c.g)();return Object(a.useEffect)((()=>{(async()=>{try{if(e){const t={headers:{Authorization:"Bearer ".concat(e)}},a=await Object(x.d)(t);n((()=>("admin"===a.data.user.role&&o.replace("/admin/"),a.data.user)))}else o.replace("/")}catch(t){console.log(t)}})()}),[o,e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.a,{user:t}),Object(b.jsxs)("main",{children:[Object(b.jsx)("section",{className:"relative w-full h-full py-11 bg-bleu-500 min-h-screen-55",children:Object(b.jsx)(a.Suspense,{fallback:Object(b.jsx)("div",{className:"flex justify-center items-center h-screen",children:Object(b.jsx)(l.a,{width:"200",height:"200",color:"#4fa94d"})}),children:Object(b.jsxs)(c.d,{children:[Object(b.jsx)(c.b,{path:"/First/Step",exact:!0,component:u}),Object(b.jsx)(c.b,{path:"/First/UpdatePreferences",exact:!0,component:d}),Object(b.jsx)(c.b,{path:"/First/UpdatePreferencesCenter",exact:!0,component:m}),Object(b.jsx)(c.b,{path:"/First/announcement",exact:!0,component:j}),Object(b.jsx)(c.b,{path:"/First/StepCenter",exact:!0,component:h}),Object(b.jsx)(c.b,{path:"/First/announcementCenter",exact:!0,component:p}),Object(b.jsx)(c.b,{path:"/First/announcementFormateur",exact:!0,component:f}),Object(b.jsx)(c.b,{path:"/First/StepFormateur",exact:!0,component:g}),Object(b.jsx)(c.b,{path:"/First/UpdatePreferenceFormateur",exact:!0,component:y}),Object(b.jsx)(c.a,{from:"/First",to:"/First/announcement"})]})})}),Object(b.jsx)(r.a,{})]})]})}},39:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return u}));var a=n(143);const c="http://localhost:5000/auth";async function r(e){return await a.a.get("".concat(c,"/"),e)}async function s(e){return await a.a.post("".concat(c,"/verification"),e)}async function l(e){return await a.a.post("".concat(c,"/inscrire"),e)}async function o(e){return await a.a.post("".concat(c,"/inscrireCentre"),e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0})}async function i(e){return await a.a.post("".concat(c,"/login"),e,{withCredentials:!0})}async function x(e){return await a.a.put("".concat(c,"/forgetPassword"),{email:e})}async function b(e,t){return await a.a.put("".concat(c,"/Password"),{user:e,config:t,withCredentials:!0})}async function u(e,t){return await a.a.get("".concat(c,"/logout/").concat(t),{config:e,withCredentials:!0})}},45:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/client.15494d49.png"},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n(1),c=n.n(a),r=n(3),s=n(12),l=n(38),o=n.n(l),i=n(142),x=n(39),b=n(56),u=n(51),d=n(57),m=n(65),j=n(58),h=n(0);var p=e=>{let{user:t}=e;const l=Object(r.g)(),p=o.a.get("jwt_token");o.a.get("jwt_token")||window.location.replace("/login-page");const f=Object(a.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(p)}})),[p]),[g,y]=c.a.useState(!1),O=c.a.createRef(),w=c.a.createRef();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"text-blueGray-500 block",ref:O,onClick:e=>{e.preventDefault(),g?y(!1):(Object(i.a)(O.current,w.current,{placement:"bottom-start"}),y(!0))},children:Object(h.jsxs)("div",{className:"items-center flex",children:[Object(h.jsx)("span",{className:"w-12 h-12 text-sm text-white bg-orange-100 inline-flex items-center justify-center rounded-full",children:t&&t.image_user?Object(h.jsx)("img",{alt:"UserImage",className:"w-full rounded-full align-middle border-none shadow-lg",src:"http://localhost:5000/images/Users/".concat(t.image_user),style:{width:"80px"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"}):Object(h.jsx)("div",{children:Object(h.jsx)("img",{alt:"...",src:n(45).default,style:{maxWidth:"120%"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"})})}),Object(h.jsx)("div",{className:"ml-2 text-blueGray-200",children:t&&t.xp&&"number"===typeof t.xp.pointsGagnes&&t.xp.niveauAtteint&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:t.nom}),t&&"centre"===t.role||t&&"formateur"===t.role?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.b,{to:"/AccountManagement/BadgesNiveauXp",children:Object(h.jsxs)("div",{className:"flex text-xs font-normal text-orange-500",children:[Object(h.jsx)(b.a,{style:{fontSize:"18px"}}),t.Formations.length,Object(h.jsx)(j.b,{style:{fontSize:"15px",marginLeft:"3px"}})]})})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.b,{to:"/AccountManagement/BadgesNiveauXp",children:Object(h.jsxs)("div",{className:"text-xs font-normal text-orange-500",onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",children:[t.xp.niveauAtteint.nom,t&&t.xp&&"number"===typeof t.xp.pointsGagnes&&t.xp.niveauAtteint&&" Xp : ".concat(t.xp.pointsGagnes)]})})})]})})]})}),Object(h.jsxs)("div",{ref:w,className:(g?"block ":"hidden ")+"bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48",children:[Object(h.jsx)("button",{className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:()=>l.push("/profile"),children:t&&t.image_user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{alt:"UserImage",className:"shadow rounded-full max-w-full h-auto align-middle border-none",src:"http://localhost:5000/images/Users/".concat(t.image_user),style:{width:"40px"}}),Object(h.jsx)("div",{className:"ml-2 ",children:t.nom})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{alt:"...",src:n(45).default,style:{maxWidth:"20%"},className:"shadow rounded-full max-w-full h-auto align-middle border-none"}),Object(h.jsx)("div",{className:"ml-2 ",children:"Profile"})]})}),Object(h.jsx)("div",{className:"h-0 mx-4 my-2 border border-solid border-blueGray-100"}),Object(h.jsxs)("button",{className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:e=>l.push("/Setting"),children:[Object(h.jsx)(m.a,{style:{fontSize:"20px"},className:"mr-1"}),"Gerer mon compte"]}),Object(h.jsxs)("button",{className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:e=>l.push("/landing/notification"),children:[Object(h.jsx)(u.b,{style:{fontSize:"20px"},className:"mr-1"}),"Mes Notification"]}),Object(h.jsx)("div",{className:"h-0 my-2 border border-solid border-blueGray-100"}),Object(h.jsxs)("a",{href:"#pablo",className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:()=>(async(e,t)=>{try{Object(x.e)(e,t._id).then((()=>{window.location.replace("/login/")})).catch((e=>{console.log(e)}))}catch(n){console.log(n)}})(f,t),children:[Object(h.jsx)(d.b,{style:{fontSize:"20px"},className:"mr-1"}),"Se d\xe9connecter"]})]})]})},f=n(41),g=n(61),y=n(54),O=n(60),w=n.n(O);var v=e=>{let{user:t}=e;o.a.get("jwt_token")||window.location.replace("/login-page");const n=o.a.get("jwt_token"),r=Object(a.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(n)}})),[n]),[s,l]=Object(a.useState)([]),[x,b]=Object(a.useState)([]),[u,d]=Object(a.useState)([]);Object(a.useEffect)((()=>{const e=async()=>{try{if(t&&t._id){const e=(await Object(y.d)({headers:{Authorization:"Bearer ".concat(n)}})).data,t=e.filter((e=>e.read)),a=e.filter((e=>!e.read)),c=e.filter((e=>!e.vu));l(t.slice(0,5)),d(a.slice(0,5)),b(c)}}catch(e){console.error("Error fetching notifications:",e)}};e();const a=setInterval(e,7e3);return()=>clearInterval(a)}),[t,n]);const[m,j]=Object(a.useState)([]),[p,O]=Object(a.useState)(!1),v=c.a.createRef(),N=c.a.createRef(),[S,k]=Object(a.useState)("mr-3 ml-3 text-blueGray-300"),G=async e=>{try{await Object(y.e)(e._id,{headers:{Authorization:"Bearer ".concat(n)}}),j(m.map((t=>t._id===e.id?{...t,read:!0}:t))),window.location.replace("http://localhost:3000/".concat(e.url))}catch(t){console.error("Error marking notification as read:",t)}},F=()=>{Object(i.a)(v.current,N.current,{placement:"bottom-start"}),(async e=>{(await Object(y.d)(e)).data.filter((e=>!e.vu)).forEach((async t=>{await Object(y.f)(t._id,e)}))})(r),O(!0),N.current.style.width="300px",k("mr-3 bg-lightBlue-500 text-white active:bg-lightBlue-600 font-bold uppercase text-xs py-1 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150")};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"block py-1 px-3 ".concat(x.length>0?"text-red-500":"text-blueGray-500"),ref:v,onClick:e=>{e.preventDefault(),p?(async()=>{k("mr-3 text-white ml-3"),O(!1)})():F()},children:x.length>0?Object(h.jsx)(f.h,{className:S,style:{fontSize:"35px",fontWeight:"bold",color:"#FF0000"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"}):Object(h.jsx)(f.i,{className:S,style:{fontSize:"35px"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"})}),Object(h.jsxs)("div",{ref:N,className:(p?"block ":"hidden ")+"bg-white text-base z-50 float-left py-2 px-2 list-none text-left rounded shadow-lg mt-1 min-w-48",children:[Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)("div",{className:"text-blueGray-400 font-bold",children:"Notifications"}),Object(h.jsx)("a",{className:"text-lightBlue-600 text-right",href:"/landing/notification",children:"Voir tous"})]}),u.length>0&&Object(h.jsxs)("div",{className:"py-2 px-4 text-6xl font-normal leading-normal mt-0 font-bold text-red-500",children:[" ","Nouveau"," "]}),u.map((e=>Object(h.jsxs)("div",{className:"py-1 px-4 font-normal text-sm whitespace-normal bg-transparent text-blueGray-700 cursor-pointer hover:bg-blueGray-100 ".concat(e.read?"opacity-50":""),onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",onClick:()=>G(e),children:[Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(h.jsx)("div",{className:"mb-1",children:e.content}),Object(h.jsx)(g.a,{className:"mr-1 text-lightBlue-500",style:{fontSize:"24px"}})]}),Object(h.jsx)("div",{className:"text-xs text-blueGray-500",children:w()(e.createdAt).format("DD/MM/YYYY HH:mm")})]},e._id))),s.length>0&&Object(h.jsx)("div",{className:"py-2 px-4 text-6xl font-normal leading-normal mt-0 font-bold text-lightBlue-500",children:"Plus t\xf4t"}),s.map((e=>Object(h.jsxs)("div",{className:"py-1 px-4 font-normal text-sm whitespace-normal bg-transparent text-blueGray-700 cursor-pointer hover:bg-blueGray-100 ".concat(e.read?"opacity-50":""),onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",onClick:()=>G(e),children:[Object(h.jsx)("div",{className:"mb-1",children:e.content}),Object(h.jsx)("div",{className:"text-xs text-blueGray-500",children:w()(e.createdAt).format("DD/MM/YYYY HH:mm")})]},e._id)))]})]})},N=n(46),S=n(66);function k(e){let{user:t}=e;Object(r.g)();const[n,l]=c.a.useState(!1),i=o.a.get("jwt_token");o.a.get("jwt_token")||window.location.replace("/login-page");Object(a.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(i)}})),[i]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("nav",{className:"top-0 absolute z-50 w-full flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg",children:Object(h.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(h.jsx)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:Object(h.jsx)("button",{className:"cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:()=>l(!n),children:Object(h.jsx)("i",{className:"text-white fas fa-bars"})})}),Object(h.jsxs)("div",{className:"lg:flex flex-grow items-center bg-white lg:bg-opacity-0 lg:shadow-none"+(n?" block rounded shadow-lg":" hidden"),id:"example-navbar-warning",children:[Object(h.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none mr-auto",children:[Object(h.jsx)(s.b,{className:"text-white text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap text-2xl",to:"/landing",children:"ForMe.com"}),!t||"client"!==t.role&&"formateur"!==t.role?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(s.b,{className:"lg:text-white lg:hover:text-indigo-500 text-blueGray-700 px-3 py-4 lg:py-2 flex items-center text-xs ",to:"/landing/training",children:[Object(h.jsx)(f.b,{className:"mr-2",style:{fontSize:"24px"}}),"Formation"]}),Object(h.jsxs)(s.b,{className:"lg:text-white lg:hover:text-lightBlue-800 text-blueGray-600 px-3 py-4 lg:py-2 flex items-center text-xs ",to:"/landing/center",children:[Object(h.jsx)(N.c,{className:"mr-2",style:{fontSize:"24px"}}),"Centre"]}),Object(h.jsxs)(s.b,{className:"lg:text-white lg:hover:text-lightBlue-800 text-blueGray-600 px-3 py-4 lg:py-2 flex items-center text-xs ",to:"/landing/center",children:[Object(h.jsx)(S.a,{className:"mr-2",style:{fontSize:"24px"}}),"Formateur"]})]})]}),Object(h.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(h.jsx)("div",{className:"lg:text-white lg:hover:text-lightBlue-800 text-blueGray-600 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold ml-3"}),Object(h.jsx)("li",{className:"flex items-center",children:Object(h.jsx)(v,{user:t})}),Object(h.jsx)("li",{className:"flex items-center",children:Object(h.jsx)(p,{user:t})})]})]})]})})})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return b}));var a=n(143);const c="http://localhost:5000/notification";async function r(e,t){return await a.a.post("".concat(c),e,t)}async function s(e){return await a.a.get("".concat(c),e)}async function l(e){return await a.a.get("".concat(c,"/getNotificationByUser"),e)}async function o(e,t,n){return await a.a.put("".concat(c,"/").concat(e),t,n)}async function i(e,t){return await a.a.delete("".concat(c,"/").concat(e),t)}const x=async(e,t)=>await a.a.put("".concat(c,"/").concat(e,"/read"),null,t),b=async(e,t)=>await a.a.put("".concat(c,"/").concat(e,"/markAsRead"),null,t)},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(1);var a=n(0);function c(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("footer",{className:(e.absolute?"absolute w-full bottom-0 bg-blueGray-800":"relative ")+"pb-6",children:Object(a.jsxs)("div",{className:"container mx-auto px-4",children:[Object(a.jsx)("hr",{className:"mb-2 border-b-1 border-blueGray-600 "}),Object(a.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between mb-2 justify-center",children:[Object(a.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(a.jsxs)("div",{className:"text-sm text-blueGray-500 font-semibold text-center md:text-left",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(a.jsx)("a",{href:"https://www.creative-tim.com?ref=nr-footer-small",className:"text-white hover:text-blueGray-300 text-sm font-semibold ",children:"Creative Tim"})]})}),Object(a.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(a.jsxs)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"https://www.creative-tim.com?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block  px-3",children:"Creative Tim"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"https://www.creative-tim.com/presentation?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block  px-3",children:"About Us"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"http://blog.creative-tim.com?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block  px-3",children:"Blog"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block px-3",children:"MIT License"})})]})})]})]})})})}}}]);
//# sourceMappingURL=18.c7317b8a.chunk.js.map