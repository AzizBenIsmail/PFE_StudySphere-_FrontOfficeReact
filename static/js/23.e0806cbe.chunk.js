/*!

=========================================================
* Notus React - v1.1.0 based on Tailwind Starter Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpStudySphere=this.webpackJsonpStudySphere||[]).push([[23],{116:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var s=a(1),l=a(38),c=a.n(l),n=a(75),r=a(74),i=a(52),o=a(0);function d(){const e=c.a.get("jwt_token");c.a.get("jwt_token")||window.location.replace("/login-page");const t=Object(s.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(e)}})),[e]),[a,l]=Object(s.useState)(null),[d,x]=Object(s.useState)([]),u=Object(s.useCallback)((async()=>{try{const e=await Object(n.f)(t);l(e.data)}catch(e){console.error("Error loading XP entries:",e)}}),[t]);Object(s.useEffect)((()=>{u()}),[u]);const j=Object(s.useCallback)((async()=>{try{const e=await Object(r.c)(t);x(e.data)}catch(e){console.error("Error loading niveaux:",e)}}),[t]);Object(s.useEffect)((()=>{j()}),[j]);const m=()=>{if(!a||0===d.length)return 0;const e=d.find((e=>e.nom===a.niveauAtteint.nom)),t=d.indexOf(e);if(t===d.length-1)return 100;const s=e.xpRequis,l=d[t+1].xpRequis;return(a.pointsGagnes-s)/(l-s)*100};return Object(o.jsx)(o.Fragment,{children:a?Object(o.jsxs)("div",{className:"flex py-30 flex-wrap",children:[Object(o.jsx)(i.a,{code:"5"}),Object(o.jsxs)("div",{className:"w-7/12 px-6",children:[Object(o.jsx)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 items-center text-blueGray-100 border-0",children:Object(o.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(o.jsxs)("h2",{className:"text-5xl mt-4 font-semibold",children:[a.niveauAtteint.nom," | Xp : ",a.pointsGagnes," "]})})}),Object(o.jsx)("section",{className:" pb-48",children:Object(o.jsxs)("div",{className:"container mx-auto ",children:[Object(o.jsxs)("div",{className:"relative pt-1",children:[Object(o.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[Object(o.jsx)("div",{children:Object(o.jsxs)("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-purple-600 bg-purple-200",children:[a.niveauAtteint.nom," in progress"]})}),Object(o.jsx)("div",{className:"text-right",children:Object(o.jsxs)("span",{className:"text-xs font-semibold inline-block text-purple-600",children:[m(),"%"]})})]}),Object(o.jsx)("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-purple-200",children:Object(o.jsx)("div",{style:{width:"".concat(m(),"%")},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-purple-500"})})]}),Object(o.jsx)("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-purple-600 bg-purple-200 ",children:"Badges"}),Object(o.jsx)("div",{className:"flex flex-wrap",children:a.badgeIds.map((e=>Object(o.jsx)("div",{className:"w-full md:w-6/12 lg:w-3/12 lg:mb-0 mb-12 px-4",children:Object(o.jsxs)("div",{className:"px-6",children:[Object(o.jsx)("img",{alt:"...",src:"http://localhost:5000/images/badges/".concat(e.image_badge),className:"shadow-lg rounded-full bg-blueGray-100 mx-auto max-w-120-px"}),Object(o.jsxs)("div",{className:"pt-6 text-center",children:[Object(o.jsx)("h5",{className:"text-xl font-bold",children:e.nom}),Object(o.jsx)("p",{className:"mt-1 text-sm text-blueGray-400 uppercase font-semibold",children:e.description})]})]})},e._id)))})]})})]})]}):Object(o.jsx)("div",{className:"flex flex-wrap justify-center text-center ",children:Object(o.jsx)("p",{children:"Loading..."})})})}},52:function(e,t,a){"use strict";var s=a(1),l=a.n(s),c=a(42),n=a(41),r=a(53),i=a(46),o=a(38),d=a.n(o),x=a(3),u=a(39),j=a(0);t.a=e=>{let{code:t}=e;const[a,o]=l.a.useState(t),m=d.a.get("jwt_token"),b=Object(x.g)(),h=Object(s.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(m)}})),[m]);if(d.a.get("jwt_token")){(async()=>{try{await Object(u.d)(h).then((e=>{"admin"===e.data.user.role&&window.location.replace("/admin/")}))}catch(e){console.log(e)}})()}else window.location.replace("/");const p=Object(x.i)(),[f,g]=Object(s.useState)({});return Object(s.useEffect)((()=>{(async e=>{await Object(u.d)(e).then((e=>{g(e.data.user)})).catch((e=>{console.log(e)}))})(h);const e=setInterval((()=>{}),1e6);return()=>clearInterval(e)}),[h,p.id]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"w-1/4 ml-8",children:Object(j.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:Object(j.jsx)("div",{className:"px-4 py-5 flex-auto",children:Object(j.jsxs)("ul",{className:"list-none flex-wrap pt-3 pb-4  ",role:"tablist",children:[Object(j.jsx)("li",{className:" mr-2 last:mr-0 flex-auto",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("1"===a?"text-lightBlue-600 ":"text-lightBlue-800 "),onClick:e=>{e.preventDefault(),console.log(t),o(t),console.log(a),b.push("/AccountManagement/edit/".concat(f._id,"?u=").concat(f.role.toLowerCase()))},"data-toggle":"tab",href:"#link1",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(c.g,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Informations personnelles"})})]})})}),Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("2"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),"client"===f.role&&(void 0===f.preferences?b.push("/First"):b.push("/First/UpdatePreferences")),"centre"===f.role&&(void 0===f.preferences?b.push("/First/announcementCenter"):b.push("/First/UpdatePreferencesCenter")),"formateur"===f.role&&(void 0===f.preferences?b.push("/First/announcementFormateur"):b.push("/First/UpdatePreferenceFormateur"))},"data-toggle":"tab",href:"#link2",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(n.m,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Pr\xe9f\xe9rences"})})]})})}),Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("3"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),console.log(t),o(t),console.log(a),b.push("/AccountManagement/updatePassword")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(n.l,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"S\xe9curit\xe9"})})]})})}),Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("5"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),b.push("/AccountManagement/BadgesNiveauXp")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(r.b,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Niveau , Badge et Point Xp"})})]})})}),f&&"centre"===f.role?Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),b.push("/AccountManagement/createFormation")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(n.j,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"G\xe9re Les Formation"})})]})})}):Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{b.push("/AccountManagement/GestionFav"),o(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(n.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Liste favoris"})})]})})}),f&&"centre"===f.role?Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),b.push("/AccountManagement/stuff")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(i.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Stuff Enseignant"})})]})})}):Object(j.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(j.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(j.jsxs)("div",{className:"px-6 flex py-1",children:[Object(j.jsx)(i.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(j.jsx)("div",{className:"ml-2",children:Object(j.jsx)("h3",{className:"text-1xl mt-2",children:"Confientialiter"})})]})})})]})})})})})}},74:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i}));var s=a(143);const l="http://localhost:5000/niveau";async function c(e,t){return await s.a.post(l,e,t)}async function n(e,t,a){return await s.a.put("".concat(l,"/").concat(e),t,a)}async function r(e,t){return await s.a.delete("".concat(l,"/").concat(e),t)}async function i(e){return await s.a.get(l,e)}},75:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return x}));var s=a(143);const l="http://localhost:5000/xp";async function c(e,t){return await s.a.post(l,e,t)}async function n(e){return await s.a.get("".concat(l,"/getByCurrUser"),e)}async function r(e,t,a){return await s.a.put("".concat(l,"/").concat(e),t,a)}async function i(e,t){return await s.a.delete("".concat(l,"/").concat(e),t)}async function o(e){return await s.a.get(l,e)}async function d(e,t){return await s.a.put("".concat(l,"/add50xp/").concat(e),t)}async function x(e,t){return await s.a.put("".concat(l,"/delete50xp/").concat(e),t)}}}]);
//# sourceMappingURL=23.e0806cbe.chunk.js.map