/*!

=========================================================
* Notus React - v1.1.0 based on Tailwind Starter Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpStudySphere=this.webpackJsonpStudySphere||[]).push([[17],{136:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var n=a(1),c=a(3),r=a(55),s=a(47),l=a(17),o=a(38),i=a.n(o),x=a(39),u=a(0);const b=Object(n.lazy)((()=>Promise.all([a.e(0),a.e(1),a.e(37)]).then(a.bind(null,112)))),d=Object(n.lazy)((()=>Promise.all([a.e(0),a.e(1),a.e(29)]).then(a.bind(null,113)))),m=Object(n.lazy)((()=>Promise.all([a.e(0),a.e(1),a.e(38)]).then(a.bind(null,114)))),j=Object(n.lazy)((()=>Promise.all([a.e(0),a.e(1),a.e(39)]).then(a.bind(null,115)))),h=Object(n.lazy)((()=>Promise.all([a.e(0),a.e(1),a.e(23)]).then(a.bind(null,116)))),f=Object(n.lazy)((()=>Promise.all([a.e(0),a.e(1),a.e(26)]).then(a.bind(null,117))));function p(){const e=i.a.get("jwt_token"),[t,a]=Object(n.useState)(null),o=Object(c.g)();return Object(n.useEffect)((()=>{(async()=>{try{if(e){const t={headers:{Authorization:"Bearer ".concat(e)}},n=await Object(x.d)(t),c=n.data.user;a(c),"admin"===n.data.user.role&&o.replace("/admin/")}else o.replace("/")}catch(t){console.log(t)}})()}),[o,e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s.a,{user:t}),Object(u.jsxs)("main",{className:"profile-page",children:[Object(u.jsxs)("section",{className:"relative block h-550-px",children:[Object(u.jsx)("div",{className:"absolute top-0 w-full h-full bg-center bg-cover",children:Object(u.jsx)("span",{id:"blackOverlay",className:"w-full h-full absolute opacity-100 bg-bleu-500"})}),Object(u.jsx)("div",{className:"top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px",style:{transform:"translateZ(0)"}}),Object(u.jsx)(n.Suspense,{fallback:Object(u.jsx)("div",{className:"flex justify-center items-center h-screen",children:Object(u.jsx)(l.a,{width:"200",height:"200",color:"#4fa94d"})}),children:Object(u.jsxs)(c.d,{children:[Object(u.jsx)(c.b,{path:"/AccountManagement/createFormation",exact:!0,component:d}),Object(u.jsx)(c.b,{path:"/AccountManagement/updatePassword",exact:!0,component:b}),Object(u.jsx)(c.b,{path:"/AccountManagement/edit/:id",exact:!0,component:m}),Object(u.jsx)(c.b,{path:"/AccountManagement/stuff",exact:!0,component:j}),Object(u.jsx)(c.b,{path:"/AccountManagement/GestionFav",exact:!0,component:f}),Object(u.jsx)(c.b,{path:"/AccountManagement/BadgesNiveauXp",exact:!0,component:h}),Object(u.jsx)(c.a,{from:"/AccountManagement",to:"Setting"})]})})]}),Object(u.jsx)("div",{className:"pt-28",children:Object(u.jsx)(r.a,{})})]})]})}},39:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"h",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return x})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return b}));var n=a(143);const c="http://localhost:5000/auth";async function r(e){return await n.a.get("".concat(c,"/"),e)}async function s(e){return await n.a.post("".concat(c,"/verification"),e)}async function l(e){return await n.a.post("".concat(c,"/inscrire"),e)}async function o(e){return await n.a.post("".concat(c,"/inscrireCentre"),e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0})}async function i(e){return await n.a.post("".concat(c,"/login"),e,{withCredentials:!0})}async function x(e){return await n.a.put("".concat(c,"/forgetPassword"),{email:e})}async function u(e,t){return await n.a.put("".concat(c,"/Password"),{user:e,config:t,withCredentials:!0})}async function b(e,t){return await n.a.get("".concat(c,"/logout/").concat(t),{config:e,withCredentials:!0})}},45:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/client.15494d49.png"},47:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1),c=a.n(n),r=a(3),s=a(12),l=a(38),o=a.n(l),i=a(142),x=a(39),u=a(56),b=a(51),d=a(57),m=a(65),j=a(58),h=a(0);var f=e=>{let{user:t}=e;const l=Object(r.g)(),f=o.a.get("jwt_token");o.a.get("jwt_token")||window.location.replace("/login-page");const p=Object(n.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(f)}})),[f]),[g,y]=c.a.useState(!1),w=c.a.createRef(),O=c.a.createRef();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"text-blueGray-500 block",ref:w,onClick:e=>{e.preventDefault(),g?y(!1):(Object(i.a)(w.current,O.current,{placement:"bottom-start"}),y(!0))},children:Object(h.jsxs)("div",{className:"items-center flex",children:[Object(h.jsx)("span",{className:"w-12 h-12 text-sm text-white bg-orange-100 inline-flex items-center justify-center rounded-full",children:t&&t.image_user?Object(h.jsx)("img",{alt:"UserImage",className:"w-full rounded-full align-middle border-none shadow-lg",src:"http://localhost:5000/images/Users/".concat(t.image_user),style:{width:"80px"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"}):Object(h.jsx)("div",{children:Object(h.jsx)("img",{alt:"...",src:a(45).default,style:{maxWidth:"120%"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"})})}),Object(h.jsx)("div",{className:"ml-2 text-blueGray-200",children:t&&t.xp&&"number"===typeof t.xp.pointsGagnes&&t.xp.niveauAtteint&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:t.nom}),t&&"centre"===t.role||t&&"formateur"===t.role?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.b,{to:"/AccountManagement/BadgesNiveauXp",children:Object(h.jsxs)("div",{className:"flex text-xs font-normal text-orange-500",children:[Object(h.jsx)(u.a,{style:{fontSize:"18px"}}),t.Formations.length,Object(h.jsx)(j.b,{style:{fontSize:"15px",marginLeft:"3px"}})]})})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.b,{to:"/AccountManagement/BadgesNiveauXp",children:Object(h.jsxs)("div",{className:"text-xs font-normal text-orange-500",onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",children:[t.xp.niveauAtteint.nom,t&&t.xp&&"number"===typeof t.xp.pointsGagnes&&t.xp.niveauAtteint&&" Xp : ".concat(t.xp.pointsGagnes)]})})})]})})]})}),Object(h.jsxs)("div",{ref:O,className:(g?"block ":"hidden ")+"bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48",children:[Object(h.jsx)("button",{className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:()=>l.push("/profile"),children:t&&t.image_user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{alt:"UserImage",className:"shadow rounded-full max-w-full h-auto align-middle border-none",src:"http://localhost:5000/images/Users/".concat(t.image_user),style:{width:"40px"}}),Object(h.jsx)("div",{className:"ml-2 ",children:t.nom})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{alt:"...",src:a(45).default,style:{maxWidth:"20%"},className:"shadow rounded-full max-w-full h-auto align-middle border-none"}),Object(h.jsx)("div",{className:"ml-2 ",children:"Profile"})]})}),Object(h.jsx)("div",{className:"h-0 mx-4 my-2 border border-solid border-blueGray-100"}),Object(h.jsxs)("button",{className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:e=>l.push("/Setting"),children:[Object(h.jsx)(m.a,{style:{fontSize:"20px"},className:"mr-1"}),"Gerer mon compte"]}),Object(h.jsxs)("button",{className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:e=>l.push("/landing/notification"),children:[Object(h.jsx)(b.b,{style:{fontSize:"20px"},className:"mr-1"}),"Mes Notification"]}),Object(h.jsx)("div",{className:"h-0 my-2 border border-solid border-blueGray-100"}),Object(h.jsxs)("a",{href:"#pablo",className:"flex items-center text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:()=>(async(e,t)=>{try{Object(x.e)(e,t._id).then((()=>{window.location.replace("/login/")})).catch((e=>{console.log(e)}))}catch(a){console.log(a)}})(p,t),children:[Object(h.jsx)(d.b,{style:{fontSize:"20px"},className:"mr-1"}),"Se d\xe9connecter"]})]})]})},p=a(41),g=a(61),y=a(54),w=a(60),O=a.n(w);var v=e=>{let{user:t}=e;o.a.get("jwt_token")||window.location.replace("/login-page");const a=o.a.get("jwt_token"),r=Object(n.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(a)}})),[a]),[s,l]=Object(n.useState)([]),[x,u]=Object(n.useState)([]),[b,d]=Object(n.useState)([]);Object(n.useEffect)((()=>{const e=async()=>{try{if(t&&t._id){const e=(await Object(y.d)({headers:{Authorization:"Bearer ".concat(a)}})).data,t=e.filter((e=>e.read)),n=e.filter((e=>!e.read)),c=e.filter((e=>!e.vu));l(t.slice(0,5)),d(n.slice(0,5)),u(c)}}catch(e){console.error("Error fetching notifications:",e)}};e();const n=setInterval(e,7e3);return()=>clearInterval(n)}),[t,a]);const[m,j]=Object(n.useState)([]),[f,w]=Object(n.useState)(!1),v=c.a.createRef(),N=c.a.createRef(),[S,k]=Object(n.useState)("mr-3 ml-3 text-blueGray-300"),G=async e=>{try{await Object(y.e)(e._id,{headers:{Authorization:"Bearer ".concat(a)}}),j(m.map((t=>t._id===e.id?{...t,read:!0}:t))),window.location.replace("http://localhost:3000/".concat(e.url))}catch(t){console.error("Error marking notification as read:",t)}},M=()=>{Object(i.a)(v.current,N.current,{placement:"bottom-start"}),(async e=>{(await Object(y.d)(e)).data.filter((e=>!e.vu)).forEach((async t=>{await Object(y.f)(t._id,e)}))})(r),w(!0),N.current.style.width="300px",k("mr-3 bg-lightBlue-500 text-white active:bg-lightBlue-600 font-bold uppercase text-xs py-1 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150")};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"block py-1 px-3 ".concat(x.length>0?"text-red-500":"text-blueGray-500"),ref:v,onClick:e=>{e.preventDefault(),f?(async()=>{k("mr-3 text-white ml-3"),w(!1)})():M()},children:x.length>0?Object(h.jsx)(p.h,{className:S,style:{fontSize:"35px",fontWeight:"bold",color:"#FF0000"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"}):Object(h.jsx)(p.i,{className:S,style:{fontSize:"35px"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none"})}),Object(h.jsxs)("div",{ref:N,className:(f?"block ":"hidden ")+"bg-white text-base z-50 float-left py-2 px-2 list-none text-left rounded shadow-lg mt-1 min-w-48",children:[Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)("div",{className:"text-blueGray-400 font-bold",children:"Notifications"}),Object(h.jsx)("a",{className:"text-lightBlue-600 text-right",href:"/landing/notification",children:"Voir tous"})]}),b.length>0&&Object(h.jsxs)("div",{className:"py-2 px-4 text-6xl font-normal leading-normal mt-0 font-bold text-red-500",children:[" ","Nouveau"," "]}),b.map((e=>Object(h.jsxs)("div",{className:"py-1 px-4 font-normal text-sm whitespace-normal bg-transparent text-blueGray-700 cursor-pointer hover:bg-blueGray-100 ".concat(e.read?"opacity-50":""),onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",onClick:()=>G(e),children:[Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(h.jsx)("div",{className:"mb-1",children:e.content}),Object(h.jsx)(g.a,{className:"mr-1 text-lightBlue-500",style:{fontSize:"24px"}})]}),Object(h.jsx)("div",{className:"text-xs text-blueGray-500",children:O()(e.createdAt).format("DD/MM/YYYY HH:mm")})]},e._id))),s.length>0&&Object(h.jsx)("div",{className:"py-2 px-4 text-6xl font-normal leading-normal mt-0 font-bold text-lightBlue-500",children:"Plus t\xf4t"}),s.map((e=>Object(h.jsxs)("div",{className:"py-1 px-4 font-normal text-sm whitespace-normal bg-transparent text-blueGray-700 cursor-pointer hover:bg-blueGray-100 ".concat(e.read?"opacity-50":""),onMouseEnter:e=>e.currentTarget.style.boxShadow="0px 0px 30px 0px rgba(0,0,0,0.3)",onMouseLeave:e=>e.currentTarget.style.boxShadow="none",onClick:()=>G(e),children:[Object(h.jsx)("div",{className:"mb-1",children:e.content}),Object(h.jsx)("div",{className:"text-xs text-blueGray-500",children:O()(e.createdAt).format("DD/MM/YYYY HH:mm")})]},e._id)))]})]})},N=a(46),S=a(66);function k(e){let{user:t}=e;Object(r.g)();const[a,l]=c.a.useState(!1),i=o.a.get("jwt_token");o.a.get("jwt_token")||window.location.replace("/login-page");Object(n.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(i)}})),[i]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("nav",{className:"top-0 absolute z-50 w-full flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg",children:Object(h.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(h.jsx)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:Object(h.jsx)("button",{className:"cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:()=>l(!a),children:Object(h.jsx)("i",{className:"text-white fas fa-bars"})})}),Object(h.jsxs)("div",{className:"lg:flex flex-grow items-center bg-white lg:bg-opacity-0 lg:shadow-none"+(a?" block rounded shadow-lg":" hidden"),id:"example-navbar-warning",children:[Object(h.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none mr-auto",children:[Object(h.jsx)(s.b,{className:"text-white text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap text-2xl",to:"/landing",children:"ForMe.com"}),!t||"client"!==t.role&&"formateur"!==t.role?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(s.b,{className:"lg:text-white lg:hover:text-indigo-500 text-blueGray-700 px-3 py-4 lg:py-2 flex items-center text-xs ",to:"/landing/training",children:[Object(h.jsx)(p.b,{className:"mr-2",style:{fontSize:"24px"}}),"Formation"]}),Object(h.jsxs)(s.b,{className:"lg:text-white lg:hover:text-lightBlue-800 text-blueGray-600 px-3 py-4 lg:py-2 flex items-center text-xs ",to:"/landing/center",children:[Object(h.jsx)(N.c,{className:"mr-2",style:{fontSize:"24px"}}),"Centre"]}),Object(h.jsxs)(s.b,{className:"lg:text-white lg:hover:text-lightBlue-800 text-blueGray-600 px-3 py-4 lg:py-2 flex items-center text-xs ",to:"/landing/center",children:[Object(h.jsx)(S.a,{className:"mr-2",style:{fontSize:"24px"}}),"Formateur"]})]})]}),Object(h.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(h.jsx)("div",{className:"lg:text-white lg:hover:text-lightBlue-800 text-blueGray-600 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold ml-3"}),Object(h.jsx)("li",{className:"flex items-center",children:Object(h.jsx)(v,{user:t})}),Object(h.jsx)("li",{className:"flex items-center",children:Object(h.jsx)(f,{user:t})})]})]})]})})})}},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return x})),a.d(t,"f",(function(){return u}));var n=a(143);const c="http://localhost:5000/notification";async function r(e,t){return await n.a.post("".concat(c),e,t)}async function s(e){return await n.a.get("".concat(c),e)}async function l(e){return await n.a.get("".concat(c,"/getNotificationByUser"),e)}async function o(e,t,a){return await n.a.put("".concat(c,"/").concat(e),t,a)}async function i(e,t){return await n.a.delete("".concat(c,"/").concat(e),t)}const x=async(e,t)=>await n.a.put("".concat(c,"/").concat(e,"/read"),null,t),u=async(e,t)=>await n.a.put("".concat(c,"/").concat(e,"/markAsRead"),null,t)},55:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(1);var n=a(0);function c(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("footer",{className:(e.absolute?"absolute w-full bottom-0 bg-blueGray-800":"relative ")+"pb-6",children:Object(n.jsxs)("div",{className:"container mx-auto px-4",children:[Object(n.jsx)("hr",{className:"mb-2 border-b-1 border-blueGray-600 "}),Object(n.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between mb-2 justify-center",children:[Object(n.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(n.jsxs)("div",{className:"text-sm text-blueGray-500 font-semibold text-center md:text-left",children:["Copyright \xa9 ",(new Date).getFullYear()," ",Object(n.jsx)("a",{href:"https://www.creative-tim.com?ref=nr-footer-small",className:"text-white hover:text-blueGray-300 text-sm font-semibold ",children:"Creative Tim"})]})}),Object(n.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(n.jsxs)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://www.creative-tim.com?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block  px-3",children:"Creative Tim"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://www.creative-tim.com/presentation?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block  px-3",children:"About Us"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"http://blog.creative-tim.com?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block  px-3",children:"Blog"})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md?ref=nr-footer-small",className:"text-blueGray-500 hover:text-blueGray-300 text-sm font-semibold block px-3",children:"MIT License"})})]})})]})]})})})}}}]);
//# sourceMappingURL=17.f03f45d6.chunk.js.map