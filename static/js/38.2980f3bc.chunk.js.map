{"version":3,"sources":["views/FrontOffice/AccountManagement/updateProfile.js","Services/ApiUser.js","views/FrontOffice/AccountManagement/SiedBarSetting.js"],"names":["Dashboard","jwt_token","Cookies","get","history","useHistory","location","useLocation","message","URLSearchParams","search","User","setUser","useState","config","useMemo","headers","Authorization","concat","useEffect","async","res","getUserAuth","data","user","console","log","role","replace","error","fetchData","n","setN","emailError","setEmailError","image","setImage","messageerr","setmessageerr","formData","FormData","_jsx","_Fragment","children","_jsxs","className","SiedBarSetting","code","nom","type","onClick","e","prenom","email","append","undefined","updateUser","_id","window","update","updatecentre","addCentre","htmlFor","placeholder","name","onChange","target","value","label","style","color","isValidEmail","test","handlechange","display","marginTop","files","handlechangeFile","apiURL","getUsers","axios","getAdmin","getFormateur","getCentre","getModerateur","getSimpleUser","getUserActive","getUsersarchive","getUserDesactive","getUserConnecter","getUserDeConnecter","getUserByID","id","deleteUser","delete","upgrade","put","archiver","desarchiver","downgrade","active","desactive","upgradeModerateur","upgradeFormateur","UpdatePasswordByAdmin","UpdatePassword","getCentersByDomain","domaine","getInstructorsByCenter","centerId","affecterEnseignant","enseignantId","desinfecterFormateur","Tabs","_ref","openTab","setOpenTab","React","then","param","useParams","catch","err","getUser","interval","setInterval","clearInterval","preventDefault","push","toLowerCase","href","FaRegUserCircle","fontSize","preferences","MdRoomPreferences","MdOutlineSecurity","SiOpslevel","MdOutlineClass","MdFavoriteBorder","BiSolidUserAccount"],"mappings":"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","file":"static/js/38.2980f3bc.chunk.js","sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\n\r\n// components\r\nimport Cookies from \"js-cookie\";\r\nimport { getUserAuth } from \"../../../Services/Apiauth\";\r\nimport { updatecentre, updateUser } from \"../../../Services/ApiUser\";\r\n\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\n// import Navbar from \"../../../components/Navbars/Navbar\";\r\n// import Footer from \"../../../components/Footers/FooterSmall\";\r\nimport SiedBarSetting from './SiedBarSetting'\r\n// import { NotificationManager } from 'react-notifications'\r\n\r\n// import CardLineChart from \"components/Cards/CardLineChart.js\";\r\n// import CardBarChart from \"components/Cards/CardBarChart.js\";\r\n// import CardPageVisits from \"components/Cards/CardPageVisits.js\";\r\n// import CardSocialTraffic from \"components/Cards/CardSocialTraffic.js\";\r\n\r\nexport default function Dashboard() {\r\n  //cookies\r\n  const jwt_token = Cookies.get(\"jwt_token\");\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const message = new URLSearchParams(location.search).get(\"u\");\r\n  const [User, setUser] = useState({});\r\n\r\n  const config = useMemo(() => {\r\n    return {\r\n      headers: {\r\n        Authorization: `Bearer ${jwt_token}`,\r\n      },\r\n    };\r\n  }, [jwt_token]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        if (jwt_token) {\r\n          const config = {\r\n            headers: {\r\n              Authorization: `Bearer ${jwt_token}`,\r\n            },\r\n          };\r\n          const res = await getUserAuth(config);\r\n          const data = res.data.user\r\n          console.log(data)\r\n          setUser(data)\r\n          if (res.data.user.role === \"admin\") {\r\n            history.replace(\"/admin/\");\r\n          }\r\n        } else {\r\n          history.replace(\"/\");\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [history, jwt_token]); // Inclure history et jwt_token dans le tableau de dépendances\r\n\r\n\r\n\r\n  const [n, setN] = useState(0); // Ajout de la variable n\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [image, setImage] = useState()\r\n\r\n  const handlechange = (e) => {\r\n    setUser({ ...User, [e.target.name]: e.target.value });\r\n    // console.log(User)\r\n\r\n    if (e.target.name === \"email\") {\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      const isValidEmail = emailRegex.test(e.target.value);\r\n\r\n      if (!isValidEmail) {\r\n        setEmailError(\"Veuillez entrer une adresse e-mail valide.\");\r\n      } else {\r\n        setEmailError(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlechangeFile = (e) => {\r\n    setImage(e.target.files[0])\r\n    console.log(e.target.files[0])\r\n  }\r\n\r\n\r\n    const [messageerr, setmessageerr] = useState();\r\n\r\n  let formData = new FormData();\r\n\r\n  const update = async (e) => {\r\n    if (\r\n      User.nom === \"\" &&\r\n      User.prenom === \"\" &&\r\n      User.email === \"\"\r\n    ) {\r\n      setN(4); // Utilisation de setN pour mettre à jour la valeur de n\r\n    } else if (User.nom === \"\" && User.prenom === \"\") {\r\n      setN(5); // Utilisation de setN pour mettre à jour la valeur de n\r\n    } else if (User.prenom === \"\" ) {\r\n      setN(6); // Utilisation de setN pour mettre à jour la valeur de n\r\n    } else if (User.nom === \"\" ) {\r\n      setN(7); // Utilisation de setN pour mettre à jour la valeur de n\r\n    } else if (User.nom === \"\") {\r\n      setN(1); // Utilisation de setN pour mettre à jour la valeur de n\r\n    } else if (User.prenom === \"\") {\r\n      setN(2);\r\n    } else if (emailError !== \"\") {\r\n      setN(9);\r\n    } else {\r\n      formData.append(\"email\", User.email);\r\n      formData.append(\"nom\", User.nom);\r\n      formData.append(\"prenom\", User.prenom);\r\n      if (image !== undefined) {\r\n        //formData.append(\"image_user\", image, `${User.nom}.png`);\r\n        formData.append(\"image_user\", image, `${User.nom}`);\r\n      }\r\n        const res = await updateUser(formData, User._id, config);\r\n        console.log(res.data);\r\n        if (res.data.message === undefined) {\r\n          window.location.replace(`/profile`)\r\n        } else {\r\n          setmessageerr(res.data.message);\r\n        }\r\n    }\r\n  };\r\n\r\n  const addCentre = async (e) => {\r\n    if (User.nom === \"\" && User.email === \"\") {\r\n      setN(4);\r\n    } else if (User.nom === \"\" ) {\r\n      setN(1);\r\n    } else if (User.email === \"\") {\r\n      setN(2);\r\n    } else {\r\n      formData.append(\"email\", User.email);\r\n      formData.append(\"nom\", User.nom);\r\n      if (image !== undefined) {\r\n        // formData.append(\"image_user\", image, `${User.nom}.png`);\r\n        formData.append(\"image_user\", image, `${User.nom}`);\r\n      }\r\n        const res = await updatecentre(formData, User._id, config);\r\n        console.log(res.data);\r\n        if (res.data.message === undefined) {\r\n          window.location.replace(`/profile`);\r\n        } else {\r\n          setmessageerr(res.data.message);\r\n          console.log(res.data.message);\r\n      }\r\n    }\r\n    console.log(n)\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/*<Navbar user={User} />*/}\r\n      {/*<main className=\"profile-page\">*/}\r\n      {/*  <section className=\"relative block h-550-px\">*/}\r\n      {/*    <div*/}\r\n      {/*      className=\"absolute top-0 w-full h-full bg-center bg-cover\"*/}\r\n      {/*    >*/}\r\n      {/*      <span*/}\r\n      {/*        id=\"blackOverlay\"*/}\r\n      {/*        className=\"w-full h-full absolute opacity-100 bg-bleu-500\"*/}\r\n      {/*      ></span>*/}\r\n      {/*    </div>*/}\r\n      {/*    <div*/}\r\n      {/*      className=\"top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px\"*/}\r\n      {/*      style={{ transform: \"translateZ(0)\" }}*/}\r\n      {/*    >*/}\r\n      {/*    </div>*/}\r\n          <div className=\"flex py-30 flex-wrap\">\r\n            <SiedBarSetting code=\"1\"/>\r\n            <div className=\"w-7/12 px-6\">\r\n              <div className=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-100 border-0\">\r\n                <div className=\"rounded-t bg-white mb-0 px-6 py-6\">\r\n                  <div className=\"text-center flex justify-between\">\r\n                    <h6 className=\"text-blueGray-700 text-xl font-bold\">\r\n                      Modifier {User.nom}\r\n                      {message === \"client\" ? (\r\n                        <span> Client</span>\r\n                      ) : message === \"formateur\" ? (\r\n                        <span> Formateur</span>\r\n                      ) : message === \"centre\" ? (\r\n                        <span> Centre de Formation</span>\r\n                      ) : message === \"moderateur\" ? (\r\n                        <span> moderateur</span>\r\n                      ) : message === \"admin\" ? (\r\n                        <span> admin</span>\r\n                      ) : null}\r\n                    </h6>\r\n                    <button\r\n                      className=\"bg-lightBlue-500 text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150\"\r\n                      type=\"button\"\r\n                      onClick={message === \"client\" || message === \"formateur\" || message === \"admin\" || message === \"moderateur\" ? (e) => update(e) : message === \"centre\" ? (e) => addCentre(e) : null}\r\n                    >\r\n                      Modifier\r\n                      {message === \"client\" ? (\r\n                        <span> Client</span>\r\n                      ) : message === \"formateur\" ? (\r\n                        <span> Formateur</span>\r\n                      ) : message === \"centre\" ? (\r\n                        <span> Centre de Formation</span>\r\n                      ) : message === \"moderateur\" ? (\r\n                        <span> Moderateur</span>\r\n                      ) : message === \"admin\" ? (\r\n                        <span> Admin</span>\r\n                      ) : null}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n                  <form>\r\n                    <h6 className=\"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase\">\r\n                      client Information\r\n                    </h6>\r\n                    <div className=\"flex flex-wrap\">\r\n                      <div className=\"w-full lg:w-6/12 px-4\">\r\n                        <div className=\"relative w-full mb-3\">\r\n                          <label\r\n                            className=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\r\n                            htmlFor=\"grid-password\"\r\n                          >\r\n                            Nom\r\n                          </label>\r\n                          <input\r\n                            className=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\r\n                            placeholder=\"nom\"\r\n                            type=\"text\"\r\n                            name=\"nom\"\r\n                            onChange={(e) =>\r\n                              setUser({ ...User, nom: e.target.value })\r\n                            }\r\n                            label=\"nom\"\r\n                            aria-label=\"nom\"\r\n                            value={User.nom}\r\n\r\n                          />\r\n                          {n === 1 ||\r\n                          n === 4 ||\r\n                          n === 5 ||\r\n                          n === 7 ||\r\n                          messageerr ===\r\n                          \"Le Nom doit contenir plus de 3 caractères\" ||\r\n                          messageerr ===\r\n                          \"Le Nom doit contenir moins de 15 caractères\" ? (\r\n                            <label style={{ color: \"red\" }}>\r\n                              Le Nom doit contenir plus de 3 et moin de 15\r\n                            </label>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      {message === \"client\" || message === \"formateur\" || message === \"moderateur\" || message === \"admin\" ? (\r\n                        <div className=\"w-full lg:w-6/12 px-4\">\r\n                          <div className=\"relative w-full mb-3\">\r\n                            <label\r\n                              className=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\r\n                              htmlFor=\"grid-password\"\r\n                            >\r\n                              Prenom\r\n                            </label>\r\n                            <input\r\n                              className=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\r\n                              placeholder=\"prenom\"\r\n                              type=\"text\"\r\n                              name=\"prenom\"\r\n                              onChange={(e) =>\r\n                                setUser({ ...User, prenom: e.target.value })\r\n                              }\r\n                              label=\"prenom\"\r\n                              aria-label=\"prenom\"\r\n                              value={User.prenom}\r\n\r\n                            />\r\n                            {n === 2 ||\r\n                            n === 4 ||\r\n                            n === 5 ||\r\n                            n === 6 ||\r\n                            messageerr ===\r\n                            \"Le Prenom doit contenir plus de 3 characters\" ||\r\n                            messageerr ===\r\n                            \"Le Prenom doit contenir plus de 15 characters\" ? (\r\n                              <label style={{ color: \"red\" }}>\r\n                                Le Prenom doit contenir plus de 3 et moin de 15\r\n                              </label>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ) : null}\r\n\r\n                      <div className=\"w-full lg:w-6/12 px-4\">\r\n                        <div className=\"relative w-full mb-3\">\r\n                          <label\r\n                            className=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\r\n                            htmlFor=\"grid-password\"\r\n                          >\r\n                            Email\r\n                          </label>\r\n                          <input\r\n                            className=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\r\n                            placeholder=\"Email Address\"\r\n                            type=\"text\"\r\n                            name=\"email\"\r\n                            onChange={(e) => handlechange(e)}\r\n                            label=\"Email\"\r\n                            aria-label=\"Email\"\r\n                            value={User.email}\r\n                          />\r\n                          {n === 4 ? (\r\n                            <label style={{ color: \"red\" }}>\r\n                              Email obligatoires\r\n                            </label>\r\n                          ) : emailError ? (\r\n                            <label\r\n                              style={{\r\n                                color: \"red\",\r\n                                display: \"block\",\r\n                                marginTop: \"10px\",\r\n                              }}\r\n                            >\r\n                              {emailError}\r\n                            </label>\r\n                          ) : messageerr === \"Email exists deja\" ? (\r\n                            <label style={{ color: \"red\" }}>\r\n                              Email exists deja{\" \"}\r\n                            </label>\r\n                          ) : null}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"w-full lg:w-6/12 px-4\">\r\n                        <div className=\"relative w-full mb-3\">\r\n                          <label\r\n                            className=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\"\r\n                            htmlFor=\"grid-password\"\r\n                          >\r\n                            Image\r\n                          </label>\r\n                          <input\r\n                            className=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150\"\r\n                            placeholder=\"image_user\"\r\n                            type=\"file\"\r\n                            name=\"image_user\"\r\n                            onChange={(e) => handlechangeFile(e)}\r\n                            label=\"image_user\"\r\n                            aria-label=\"image_user\"\r\n                            // value={User.image_user}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      {/*  </section>*/}\r\n      {/*</main>*/}\r\n      {/*/!*<div className=\"py-41\">*!/*/}\r\n      {/*<Footer absolute />*/}\r\n      {/*</div>*/}\r\n    </>\r\n  );\r\n}\r\n","import axios from 'axios'\r\n\r\nconst apiURL = 'http://localhost:5000/user'\r\n\r\nexport async function getUserAuth (config) {\r\n  return await axios.get(`${apiURL}/`, config)\r\n}\r\n\r\nexport async function registerEmail (email) {\r\n  return await axios.post(`${apiURL}/verification`, email)\r\n}\r\n\r\nexport async function register (user) {\r\n  return await axios.post(`${apiURL}/inscrire`, user)\r\n}\r\n\r\nexport async function registerCentre (formData) {\r\n  return await axios.post(`${apiURL}/inscrireCentre`, formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }, withCredentials: true,\r\n  })\r\n}\r\n\r\n\r\nexport async function forgetPassword (email) {\r\n  return await axios.put(`${apiURL}/forgetPassword`, { email })\r\n}\r\n\r\nexport async function Password (user, config) {\r\n  return await axios.put(`${apiURL}/Password`, { user, config, withCredentials: true })\r\n}\r\n\r\nexport async function logout (config,id) {\r\n  return await axios.get(`${apiURL}/logout/${id}`, {\r\n    config, withCredentials: true,\r\n  })\r\n}\r\n\r\nexport async function AddUserService(formData, config) {\r\n  return await axios.post(`${ apiURL }/register`, formData, config, {\r\n    headers: {\"Content-Type\": \"multipart/form-data\"}, withCredentials: true,\r\n  });\r\n}\r\n\r\n\r\n\r\nexport async function getUsers(config) {\r\n  return await axios.get(`${ apiURL }/AllUsers`, config);\r\n}\r\n\r\nexport async function getAdmin(config) {\r\n  return await axios.get(`${ apiURL }/AllAdmin`, config);\r\n}\r\n\r\nexport async function getFormateur(config) {\r\n  return await axios.get(`${ apiURL }/AllFormateur`, config);\r\n}\r\n\r\nexport async function getCentre(config) {\r\n  return await axios.get(`${ apiURL }/AllCentre`, config);\r\n}\r\n\r\nexport async function getModerateur(config) {\r\n  return await axios.get(`${ apiURL }/AllModerateur`, config);\r\n}\r\nexport async function getSimpleUser(config) {\r\n  return await axios.get(`${ apiURL }/AllSimpleUsers`, config);\r\n}\r\n\r\nexport async function getUserActive(config) {\r\n  return await axios.get(`${ apiURL }/AllUsersActive`, config);\r\n}\r\n\r\nexport async function getUsersarchive(config) {\r\n  return await axios.get(`${ apiURL }/AllUsersarchive`, config);\r\n}\r\n\r\nexport async function getUserDesactive(config) {\r\n  return await axios.get(`${ apiURL }/AllUsersDesactive`, config);\r\n}\r\n\r\nexport async function getUserConnecter(config) {\r\n  return await axios.get(`${ apiURL }/AllUsersConnecter`, config);\r\n}\r\n\r\nexport async function getUserDeConnecter(config) {\r\n  return await axios.get(`${ apiURL }/AllUsersDeConnecter`, config);\r\n}\r\n\r\nexport async function searchUsers(term,config) {\r\n  return await axios.get(`${ apiURL }/searchUsers?term=${ term }`, config);\r\n}\r\n\r\nexport async function getUserByID(id, config) {\r\n  return await axios.get(`${ apiURL }/User/${ id }`, config);\r\n}\r\n\r\nexport async function deleteUser(id, config) {\r\n  return await axios.delete(`${ apiURL }/${ id }`, config);\r\n}\r\n\r\nexport async function upgrade (id, config) {\r\n  return await axios.put(`${apiURL}/upgrade`, { id }, config)\r\n}\r\n\r\nexport async function archiver (id, config) {\r\n  return await axios.put(`${apiURL}/archiver`, { id }, config)\r\n}\r\n\r\nexport async function desarchiver (id, config) {\r\n  return await axios.put(`${apiURL}/desarchiver`, { id }, config)\r\n}\r\n\r\nexport async function downgrade(id, config) {\r\n  return await axios.put(`${ apiURL }/downgrade`, {id}, config);\r\n}\r\n\r\nexport async function active (id, config) {\r\n  return await axios.put(`${apiURL}/active`, { id }, config)\r\n}\r\n\r\nexport async function desactive(id, config) {\r\n  return await axios.put(`${ apiURL }/desactive`, {id}, config);\r\n}\r\n\r\nexport async function upgradeModerateur (id, config) {\r\n  return await axios.put(`${apiURL}/upgradeModerateur`, { id }, config)\r\n}\r\n\r\nexport async function upgradeFormateur (id, config) {\r\n  return await axios.put(`${apiURL}/upgradeFormateur`, { id }, config)\r\n}\r\n\r\nexport async function updateUser (formData, id, config) {\r\n  return await axios.put(`${apiURL}/update/${id}`, formData, config, {\r\n    headers: {\"Content-Type\": \"multipart/form-data\"}\r\n  });\r\n}\r\n\r\nexport async function updatecentre(formData, id, config) {\r\n  return await axios.put(`${ apiURL }/updatecentre/${ id }`, formData, config, {\r\n    headers: {\"Content-Type\": \"multipart/form-data\"}\r\n  });\r\n}\r\n\r\nexport async function UpdatePasswordByAdmin (id,user, config) {\r\n  return await axios.put(`${apiURL}/UpdatePasswordByAdmin/${ id }`, user, config )\r\n}\r\n\r\nexport async function UpdatePassword (user, config) {\r\n  return await axios.put(`${apiURL}/UpdatePassword`, user, config )\r\n}\r\n\r\nexport async function getCentersByDomain(domaine, config) {\r\n  return await axios.get(`${ apiURL }/Center/${ domaine }`, config);\r\n}\r\n\r\n// export async function getCentersByDomain(domaine, config) {\r\n//   return await axios.get(`${ apiURL }/Center/Developpement`, config);\r\n// }\r\n\r\nexport async function getInstructorsByCenter(centerId, config) {\r\n  return await axios.get(`${ apiURL }/Formateur/${ centerId }`, config);\r\n}\r\n\r\nexport async function affecterEnseignant(enseignantId, config) {\r\n  return await axios.put(`${apiURL}/affecterEnseignant/${enseignantId}`, null, config);\r\n}\r\n\r\nexport async function desinfecterFormateur(enseignantId, config) {\r\n  return await axios.put(`${apiURL}/desinfecterFormateur/${enseignantId}`, null, config);\r\n}\r\n","import React, { useEffect, useMemo, useState } from 'react'\r\nimport { FaRegUserCircle } from 'react-icons/fa'\r\nimport { MdOutlineClass, MdFavoriteBorder, MdOutlineSecurity, MdRoomPreferences } from 'react-icons/md'\r\nimport { SiOpslevel } from 'react-icons/si'\r\nimport { BiSolidUserAccount } from 'react-icons/bi'\r\nimport Cookies from 'js-cookie'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { getUserAuth } from '../../../Services/Apiauth'\r\n\r\nconst Tabs = ({code}) => {\r\n  const [openTab, setOpenTab] = React.useState(code)\r\n  const jwt_token = Cookies.get('jwt_token')\r\n  const history = useHistory()\r\n\r\n  const config = useMemo(() => {\r\n    return {\r\n      headers: {\r\n        Authorization: `Bearer ${jwt_token}`,\r\n      },\r\n    }\r\n  }, [jwt_token])\r\n\r\n  //session\r\n  if (Cookies.get('jwt_token')) {\r\n    const fetchData = async () => {\r\n      try {\r\n        await getUserAuth(config).then((res) => {\r\n          if (res.data.user.role === 'admin') {\r\n            window.location.replace(`/admin/`)\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n    fetchData()\r\n  } else {\r\n    window.location.replace(`/`)\r\n  }\r\n\r\n  const param = useParams()\r\n\r\n  const [User, setUser] = useState({})\r\n\r\n  useEffect(() => {\r\n\r\n    const getUser = async (config) => {\r\n      await getUserAuth(config).then((res) => {\r\n        setUser(res.data.user)\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n    getUser(config)\r\n\r\n    const interval = setInterval(() => {}, 1000000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [config, param.id])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"w-1/4 ml-8\">\r\n        <div className=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n          <div className=\"px-4 py-5 flex-auto\">\r\n            <ul\r\n              className=\"list-none flex-wrap pt-3 pb-4  \"\r\n              role=\"tablist\"\r\n            >\r\n              <li className=\" mr-2 last:mr-0 flex-auto\">\r\n                <a\r\n                  className={\r\n                    'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                    (openTab === \"1\"\r\n                      ? 'text-lightBlue-600 '\r\n                      : 'text-lightBlue-800 ')\r\n                  }\r\n                  onClick={e => {\r\n                    e.preventDefault()\r\n                    console.log(code)\r\n                    setOpenTab(code)\r\n                    console.log(openTab)\r\n                    history.push(`/AccountManagement/edit/${User._id}?u=${User.role.toLowerCase()}`)\r\n\r\n                  }}\r\n                  data-toggle=\"tab\"\r\n                  href=\"#link1\"\r\n                  role=\"tablist\"\r\n                >\r\n                  <div className=\"px-6 flex py-1\">\r\n                    <FaRegUserCircle style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n                    <div className=\"ml-2\">\r\n                      <h3 className=\"text-1xl mt-2\">\r\n                        Informations personnelles\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n              <li className=\"-mb-px mr-2 last:mr-0 flex-auto \">\r\n                <a\r\n                  className={\r\n                    'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                    (openTab === \"2\"\r\n                      ? 'text-lightBlue-600'\r\n                      : 'text-lightBlue-800')\r\n                  }\r\n                  onClick={e => {\r\n                    e.preventDefault()\r\n                    setOpenTab(code)\r\n                    if (User.role === 'client') {\r\n                      if (User.preferences === undefined) {\r\n                        history.push(\"/First\");\r\n                      } else {\r\n                        history.push(\"/First/UpdatePreferences\");\r\n                      }\r\n                    }\r\n\r\n                    if (User.role === 'centre') {\r\n                      if (User.preferences === undefined) {\r\n                        history.push(\"/First/announcementCenter\");\r\n                      } else {\r\n                        history.push(\"/First/UpdatePreferencesCenter\");\r\n                      }\r\n                    }\r\n\r\n                    if (User.role === 'formateur') {\r\n                      if (User.preferences === undefined) {\r\n                        history.push(\"/First/announcementFormateur\");\r\n                      } else {\r\n                        history.push(\"/First/UpdatePreferenceFormateur\");\r\n                      }\r\n                    }\r\n                  }}\r\n                  data-toggle=\"tab\"\r\n                  href=\"#link2\"\r\n                  role=\"tablist\"\r\n                >\r\n                  <div className=\"px-6 flex py-1\">\r\n                    <MdRoomPreferences style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n                    <div className=\"ml-2\">\r\n                      <h3 className=\"text-1xl mt-2\">\r\n                        Préférences\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n              <li className=\"-mb-px mr-2 last:mr-0 flex-auto \">\r\n                <a\r\n                  className={\r\n                    'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                    (openTab === \"3\"\r\n                      ? 'text-lightBlue-600'\r\n                      : 'text-lightBlue-800')\r\n                  }\r\n                  onClick={e => {\r\n                    e.preventDefault()\r\n                    console.log(code)\r\n                    setOpenTab(code)\r\n                    console.log(openTab)\r\n                    history.push(\"/AccountManagement/updatePassword\");\r\n                  }}\r\n                  data-toggle=\"tab\"\r\n                  href=\"#link3\"\r\n                  role=\"tablist\"\r\n                >\r\n                  <div className=\"px-6 flex py-1\">\r\n                    <MdOutlineSecurity style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n                    <div className=\"ml-2\">\r\n                      <h3 className=\"text-1xl mt-2\">\r\n                        Sécurité\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n              <li className=\"-mb-px mr-2 last:mr-0 flex-auto \">\r\n                <a\r\n                  className={\r\n                    'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                    (openTab === \"5\"\r\n                      ? 'text-lightBlue-600'\r\n                      : 'text-lightBlue-800')\r\n                  }\r\n                  onClick={e => {\r\n                    e.preventDefault()\r\n                    setOpenTab(code)\r\n                    history.push(\"/AccountManagement/BadgesNiveauXp\");\r\n                  }}\r\n                  data-toggle=\"tab\"\r\n                  href=\"#link3\"\r\n                  role=\"tablist\"\r\n                >\r\n                  <div className=\"px-6 flex py-1\">\r\n                    <SiOpslevel  style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n                    <div className=\"ml-2\">\r\n                      <h3 className=\"text-1xl mt-2\">\r\n                        Niveau , Badge et Point Xp\r\n                      </h3>\r\n                    </div>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n              {User && (User.role === \"centre\" )  ? (\r\n                <li className=\"-mb-px mr-2 last:mr-0 flex-auto \">\r\n                  <a\r\n                    className={\r\n                      'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                      (openTab ===\"4\"\r\n                        ? 'text-lightBlue-600'\r\n                        : 'text-lightBlue-800')\r\n                    }\r\n                    onClick={e => {\r\n                      e.preventDefault()\r\n                      setOpenTab(code)\r\n                      history.push(\"/AccountManagement/createFormation\");\r\n                    }}\r\n                    data-toggle=\"tab\"\r\n                    href=\"#link3\"\r\n                    role=\"tablist\"\r\n                  >\r\n                    <div className=\"px-6 flex py-1\">\r\n                      <MdOutlineClass style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n                      <div className=\"ml-2\">\r\n                        <h3 className=\"text-1xl mt-2\">\r\n                          Gére Les Formation\r\n                        </h3>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </li>\r\n                ) :\r\n                <li className=\"-mb-px mr-2 last:mr-0 flex-auto \">\r\n                  <a\r\n                    className={\r\n                      'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                      (openTab ===\"4\"\r\n                        ? 'text-lightBlue-600'\r\n                        : 'text-lightBlue-800')\r\n                    }\r\n                    onClick={e => {\r\n                      history.push(\"/AccountManagement/GestionFav\");\r\n                      setOpenTab(code)\r\n                    }}\r\n                    data-toggle=\"tab\"\r\n                    href=\"#link3\"\r\n                    role=\"tablist\"\r\n                  >\r\n                    <div className=\"px-6 flex py-1\">\r\n                      <MdFavoriteBorder style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n\r\n                      <div className=\"ml-2\">\r\n                        <h3 className=\"text-1xl mt-2\">\r\n                          Liste favoris\r\n                        </h3>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </li>\r\n              }\r\n\r\n              {User && (User.role === \"centre\" )  ? (\r\n                  <li className=\"-mb-px mr-2 last:mr-0 flex-auto \">\r\n                    <a\r\n                      className={\r\n                        'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                        (openTab === \"6\"\r\n                          ? 'text-lightBlue-600'\r\n                          : 'text-lightBlue-800')\r\n                      }\r\n                      onClick={e => {\r\n                        e.preventDefault()\r\n                        setOpenTab(code)\r\n                        history.push(\"/AccountManagement/stuff\");\r\n                      }}\r\n                      data-toggle=\"tab\"\r\n                      href=\"#link3\"\r\n                      role=\"tablist\"\r\n                    >\r\n                      <div className=\"px-6 flex py-1\">\r\n                        <BiSolidUserAccount style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n                        <div className=\"ml-2\">\r\n                          <h3 className=\"text-1xl mt-2\">\r\n                            Stuff Enseignant\r\n                          </h3>\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                  </li>\r\n                ) :\r\n                <li className=\"-mb-px mr-2 last:mr-0 flex-auto \">\r\n                  <a\r\n                    className={\r\n                      'text-xs px-5 py-3 shadow-lg rounded block leading-normal ' +\r\n                      (openTab === \"6\"\r\n                        ? 'text-lightBlue-600'\r\n                        : 'text-lightBlue-800')\r\n                    }\r\n                    onClick={e => {\r\n                      e.preventDefault()\r\n                      setOpenTab(code)\r\n                    }}\r\n                    data-toggle=\"tab\"\r\n                    href=\"#link3\"\r\n                    role=\"tablist\"\r\n                  >\r\n                    <div className=\"px-6 flex py-1\">\r\n                      <BiSolidUserAccount style={{ fontSize: '25px' }} className=\"mt-1\"/>\r\n                      <div className=\"ml-2\">\r\n                        <h3 className=\"text-1xl mt-2\">\r\n                          Confientialiter\r\n                        </h3>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </li>\r\n              }\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Tabs\r\n"],"sourceRoot":""}