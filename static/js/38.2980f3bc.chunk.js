/*!

=========================================================
* Notus React - v1.1.0 based on Tailwind Starter Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/notus-react/blob/main/LICENSE.md)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpStudySphere=this.webpackJsonpStudySphere||[]).push([[38],{114:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var n=a(1),l=a(38),c=a.n(l),r=a(39),s=a(44),i=a(3),o=a(52),d=a(0);function u(){const e=c.a.get("jwt_token"),t=Object(i.g)(),a=Object(i.h)(),l=new URLSearchParams(a.search).get("u"),[u,m]=Object(n.useState)({}),x=Object(n.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(e)}})),[e]);Object(n.useEffect)((()=>{(async()=>{try{if(e){const a={headers:{Authorization:"Bearer ".concat(e)}},n=await Object(r.d)(a),l=n.data.user;console.log(l),m(l),"admin"===n.data.user.role&&t.replace("/admin/")}else t.replace("/")}catch(a){console.log(a)}})()}),[t,e]);const[b,p]=Object(n.useState)(0),[j,h]=Object(n.useState)(""),[f,g]=Object(n.useState)(),[O,w]=Object(n.useState)();let y=new FormData;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"flex py-30 flex-wrap",children:[Object(d.jsx)(o.a,{code:"1"}),Object(d.jsx)("div",{className:"w-7/12 px-6",children:Object(d.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-100 border-0",children:[Object(d.jsx)("div",{className:"rounded-t bg-white mb-0 px-6 py-6",children:Object(d.jsxs)("div",{className:"text-center flex justify-between",children:[Object(d.jsxs)("h6",{className:"text-blueGray-700 text-xl font-bold",children:["Modifier ",u.nom,"client"===l?Object(d.jsx)("span",{children:" Client"}):"formateur"===l?Object(d.jsx)("span",{children:" Formateur"}):"centre"===l?Object(d.jsx)("span",{children:" Centre de Formation"}):"moderateur"===l?Object(d.jsx)("span",{children:" moderateur"}):"admin"===l?Object(d.jsx)("span",{children:" admin"}):null]}),Object(d.jsxs)("button",{className:"bg-lightBlue-500 text-white active:bg-lightBlue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",onClick:"client"===l||"formateur"===l||"admin"===l||"moderateur"===l?e=>(async e=>{if(""===u.nom&&""===u.prenom&&""===u.email)p(4);else if(""===u.nom&&""===u.prenom)p(5);else if(""===u.prenom)p(6);else if(""===u.nom)p(7);else if(""===u.nom)p(1);else if(""===u.prenom)p(2);else if(""!==j)p(9);else{y.append("email",u.email),y.append("nom",u.nom),y.append("prenom",u.prenom),void 0!==f&&y.append("image_user",f,"".concat(u.nom));const e=await Object(s.y)(y,u._id,x);console.log(e.data),void 0===e.data.message?window.location.replace("/profile"):w(e.data.message)}})():"centre"===l?e=>(async e=>{if(""===u.nom&&""===u.email)p(4);else if(""===u.nom)p(1);else if(""===u.email)p(2);else{y.append("email",u.email),y.append("nom",u.nom),void 0!==f&&y.append("image_user",f,"".concat(u.nom));const e=await Object(s.z)(y,u._id,x);console.log(e.data),void 0===e.data.message?window.location.replace("/profile"):(w(e.data.message),console.log(e.data.message))}console.log(b)})():null,children:["Modifier","client"===l?Object(d.jsx)("span",{children:" Client"}):"formateur"===l?Object(d.jsx)("span",{children:" Formateur"}):"centre"===l?Object(d.jsx)("span",{children:" Centre de Formation"}):"moderateur"===l?Object(d.jsx)("span",{children:" Moderateur"}):"admin"===l?Object(d.jsx)("span",{children:" Admin"}):null]})]})}),Object(d.jsx)("div",{className:"flex-auto px-4 lg:px-10 py-10 pt-0",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase",children:"client Information"}),Object(d.jsxs)("div",{className:"flex flex-wrap",children:[Object(d.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(d.jsxs)("div",{className:"relative w-full mb-3",children:[Object(d.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Nom"}),Object(d.jsx)("input",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"nom",type:"text",name:"nom",onChange:e=>m({...u,nom:e.target.value}),label:"nom","aria-label":"nom",value:u.nom}),1===b||4===b||5===b||7===b||"Le Nom doit contenir plus de 3 caract\xe8res"===O||"Le Nom doit contenir moins de 15 caract\xe8res"===O?Object(d.jsx)("label",{style:{color:"red"},children:"Le Nom doit contenir plus de 3 et moin de 15"}):""]})}),"client"===l||"formateur"===l||"moderateur"===l||"admin"===l?Object(d.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(d.jsxs)("div",{className:"relative w-full mb-3",children:[Object(d.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Prenom"}),Object(d.jsx)("input",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"prenom",type:"text",name:"prenom",onChange:e=>m({...u,prenom:e.target.value}),label:"prenom","aria-label":"prenom",value:u.prenom}),2===b||4===b||5===b||6===b||"Le Prenom doit contenir plus de 3 characters"===O||"Le Prenom doit contenir plus de 15 characters"===O?Object(d.jsx)("label",{style:{color:"red"},children:"Le Prenom doit contenir plus de 3 et moin de 15"}):""]})}):null,Object(d.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(d.jsxs)("div",{className:"relative w-full mb-3",children:[Object(d.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Email"}),Object(d.jsx)("input",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"Email Address",type:"text",name:"email",onChange:e=>(e=>{if(m({...u,[e.target.name]:e.target.value}),"email"===e.target.name){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.target.value);h(t?"":"Veuillez entrer une adresse e-mail valide.")}})(e),label:"Email","aria-label":"Email",value:u.email}),4===b?Object(d.jsx)("label",{style:{color:"red"},children:"Email obligatoires"}):j?Object(d.jsx)("label",{style:{color:"red",display:"block",marginTop:"10px"},children:j}):"Email exists deja"===O?Object(d.jsxs)("label",{style:{color:"red"},children:["Email exists deja"," "]}):null]})}),Object(d.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(d.jsxs)("div",{className:"relative w-full mb-3",children:[Object(d.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Image"}),Object(d.jsx)("input",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",placeholder:"image_user",type:"file",name:"image_user",onChange:e=>(e=>{g(e.target.files[0]),console.log(e.target.files[0])})(e),label:"image_user","aria-label":"image_user"})]})})]})]})})]})})]})})}},44:function(e,t,a){"use strict";a.d(t,"w",(function(){return c})),a.d(t,"k",(function(){return r})),a.d(t,"n",(function(){return s})),a.d(t,"m",(function(){return i})),a.d(t,"p",(function(){return o})),a.d(t,"q",(function(){return d})),a.d(t,"r",(function(){return u})),a.d(t,"x",(function(){return m})),a.d(t,"v",(function(){return x})),a.d(t,"t",(function(){return b})),a.d(t,"u",(function(){return p})),a.d(t,"s",(function(){return j})),a.d(t,"f",(function(){return h})),a.d(t,"A",(function(){return f})),a.d(t,"e",(function(){return g})),a.d(t,"h",(function(){return O})),a.d(t,"j",(function(){return w})),a.d(t,"c",(function(){return y})),a.d(t,"g",(function(){return N})),a.d(t,"C",(function(){return v})),a.d(t,"B",(function(){return k})),a.d(t,"y",(function(){return C})),a.d(t,"z",(function(){return A})),a.d(t,"b",(function(){return F})),a.d(t,"a",(function(){return B})),a.d(t,"l",(function(){return S})),a.d(t,"o",(function(){return G})),a.d(t,"d",(function(){return z})),a.d(t,"i",(function(){return U}));var n=a(143);const l="http://localhost:5000/user";async function c(e){return await n.a.get("".concat(l,"/AllUsers"),e)}async function r(e){return await n.a.get("".concat(l,"/AllAdmin"),e)}async function s(e){return await n.a.get("".concat(l,"/AllFormateur"),e)}async function i(e){return await n.a.get("".concat(l,"/AllCentre"),e)}async function o(e){return await n.a.get("".concat(l,"/AllModerateur"),e)}async function d(e){return await n.a.get("".concat(l,"/AllSimpleUsers"),e)}async function u(e){return await n.a.get("".concat(l,"/AllUsersActive"),e)}async function m(e){return await n.a.get("".concat(l,"/AllUsersarchive"),e)}async function x(e){return await n.a.get("".concat(l,"/AllUsersDesactive"),e)}async function b(e){return await n.a.get("".concat(l,"/AllUsersConnecter"),e)}async function p(e){return await n.a.get("".concat(l,"/AllUsersDeConnecter"),e)}async function j(e,t){return await n.a.get("".concat(l,"/User/").concat(e),t)}async function h(e,t){return await n.a.delete("".concat(l,"/").concat(e),t)}async function f(e,t){return await n.a.put("".concat(l,"/upgrade"),{id:e},t)}async function g(e,t){return await n.a.put("".concat(l,"/archiver"),{id:e},t)}async function O(e,t){return await n.a.put("".concat(l,"/desarchiver"),{id:e},t)}async function w(e,t){return await n.a.put("".concat(l,"/downgrade"),{id:e},t)}async function y(e,t){return await n.a.put("".concat(l,"/active"),{id:e},t)}async function N(e,t){return await n.a.put("".concat(l,"/desactive"),{id:e},t)}async function v(e,t){return await n.a.put("".concat(l,"/upgradeModerateur"),{id:e},t)}async function k(e,t){return await n.a.put("".concat(l,"/upgradeFormateur"),{id:e},t)}async function C(e,t,a){return await n.a.put("".concat(l,"/update/").concat(t),e,a,{headers:{"Content-Type":"multipart/form-data"}})}async function A(e,t,a){return await n.a.put("".concat(l,"/updatecentre/").concat(t),e,a,{headers:{"Content-Type":"multipart/form-data"}})}async function F(e,t,a){return await n.a.put("".concat(l,"/UpdatePasswordByAdmin/").concat(e),t,a)}async function B(e,t){return await n.a.put("".concat(l,"/UpdatePassword"),e,t)}async function S(e,t){return await n.a.get("".concat(l,"/Center/").concat(e),t)}async function G(e,t){return await n.a.get("".concat(l,"/Formateur/").concat(e),t)}async function z(e,t){return await n.a.put("".concat(l,"/affecterEnseignant/").concat(e),null,t)}async function U(e,t){return await n.a.put("".concat(l,"/desinfecterFormateur/").concat(e),null,t)}},52:function(e,t,a){"use strict";var n=a(1),l=a.n(n),c=a(42),r=a(41),s=a(53),i=a(46),o=a(38),d=a.n(o),u=a(3),m=a(39),x=a(0);t.a=e=>{let{code:t}=e;const[a,o]=l.a.useState(t),b=d.a.get("jwt_token"),p=Object(u.g)(),j=Object(n.useMemo)((()=>({headers:{Authorization:"Bearer ".concat(b)}})),[b]);if(d.a.get("jwt_token")){(async()=>{try{await Object(m.d)(j).then((e=>{"admin"===e.data.user.role&&window.location.replace("/admin/")}))}catch(e){console.log(e)}})()}else window.location.replace("/");const h=Object(u.i)(),[f,g]=Object(n.useState)({});return Object(n.useEffect)((()=>{(async e=>{await Object(m.d)(e).then((e=>{g(e.data.user)})).catch((e=>{console.log(e)}))})(j);const e=setInterval((()=>{}),1e6);return()=>clearInterval(e)}),[j,h.id]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"w-1/4 ml-8",children:Object(x.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:Object(x.jsx)("div",{className:"px-4 py-5 flex-auto",children:Object(x.jsxs)("ul",{className:"list-none flex-wrap pt-3 pb-4  ",role:"tablist",children:[Object(x.jsx)("li",{className:" mr-2 last:mr-0 flex-auto",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("1"===a?"text-lightBlue-600 ":"text-lightBlue-800 "),onClick:e=>{e.preventDefault(),console.log(t),o(t),console.log(a),p.push("/AccountManagement/edit/".concat(f._id,"?u=").concat(f.role.toLowerCase()))},"data-toggle":"tab",href:"#link1",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(c.g,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"Informations personnelles"})})]})})}),Object(x.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("2"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),"client"===f.role&&(void 0===f.preferences?p.push("/First"):p.push("/First/UpdatePreferences")),"centre"===f.role&&(void 0===f.preferences?p.push("/First/announcementCenter"):p.push("/First/UpdatePreferencesCenter")),"formateur"===f.role&&(void 0===f.preferences?p.push("/First/announcementFormateur"):p.push("/First/UpdatePreferenceFormateur"))},"data-toggle":"tab",href:"#link2",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(r.m,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"Pr\xe9f\xe9rences"})})]})})}),Object(x.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("3"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),console.log(t),o(t),console.log(a),p.push("/AccountManagement/updatePassword")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(r.l,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"S\xe9curit\xe9"})})]})})}),Object(x.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("5"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),p.push("/AccountManagement/BadgesNiveauXp")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(s.b,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"Niveau , Badge et Point Xp"})})]})})}),f&&"centre"===f.role?Object(x.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),p.push("/AccountManagement/createFormation")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(r.j,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"G\xe9re Les Formation"})})]})})}):Object(x.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("4"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{p.push("/AccountManagement/GestionFav"),o(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(r.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"Liste favoris"})})]})})}),f&&"centre"===f.role?Object(x.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t),p.push("/AccountManagement/stuff")},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(i.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"Stuff Enseignant"})})]})})}):Object(x.jsx)("li",{className:"-mb-px mr-2 last:mr-0 flex-auto ",children:Object(x.jsx)("a",{className:"text-xs px-5 py-3 shadow-lg rounded block leading-normal "+("6"===a?"text-lightBlue-600":"text-lightBlue-800"),onClick:e=>{e.preventDefault(),o(t)},"data-toggle":"tab",href:"#link3",role:"tablist",children:Object(x.jsxs)("div",{className:"px-6 flex py-1",children:[Object(x.jsx)(i.d,{style:{fontSize:"25px"},className:"mt-1"}),Object(x.jsx)("div",{className:"ml-2",children:Object(x.jsx)("h3",{className:"text-1xl mt-2",children:"Confientialiter"})})]})})})]})})})})})}}}]);
//# sourceMappingURL=38.2980f3bc.chunk.js.map